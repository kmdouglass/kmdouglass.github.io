<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Notes on NVIDIA's CUDA">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CUDA Notes | Kyle M. Douglass</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="http://kmdouglass.github.io/stories/notes/cuda.html">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><meta name="description" itemprop="description" content="Notes on NVIDIA's CUDA">
<meta name="author" content="Kyle M. Douglass">
<meta property="og:site_name" content="Kyle M. Douglass">
<meta property="og:title" content="CUDA Notes">
<meta property="og:url" content="http://kmdouglass.github.io/stories/notes/cuda.html">
<meta property="og:description" content="Notes on NVIDIA's CUDA">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2014-11-01T00:00:00+01:00">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-default navbar-static-top" role="navigation"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://kmdouglass.github.io/">

                <span id="blog-title">Kyle M. Douglass</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../about-me.html">About</a>
                </li>
<li>
<a href="../notes-and-projects.html">Notes</a>
                </li>
<li>
<a href="../../posts/index.html">Blog</a>
                </li>
<li>
<a href="../../categories/index.html">Tags</a>
                </li>
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../contact.html">Contact</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>
    <a href="cuda.org" id="sourcelink">Source</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="storypage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">CUDA Notes</a></h1>

        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li>
<a href="cuda.html#sec-1">1. Pre-installation of CUDA software</a>
<ul>
<li><a href="cuda.html#sec-1-1">1.1. Check for a CUDA-enabled card</a></li>
</ul>
</li>
<li>
<a href="cuda.html#sec-2">2. Installation of the CUDA Toolkit in Debian with an Optimus chip</a>
<ul>
<li><a href="cuda.html#sec-2-1">2.1. Installation of the CUDA driver</a></li>
<li>
<a href="cuda.html#sec-2-2">2.2. Installation of the toolkit from Nvidia</a>
<ul>
<li><a href="cuda.html#sec-2-2-1">2.2.1. Switching to another gcc version</a></li>
</ul>
</li>
<li><a href="cuda.html#sec-2-3">2.3. Compiling the samples</a></li>
</ul>
</li>
<li><a href="cuda.html#sec-3">3. Uninstalling the Nvidia drivers</a></li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">
<span class="section-number-2">1</span> Pre-installation of CUDA software</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">
<span class="section-number-3">1.1</span> Check for a CUDA-enabled card</h3>
<div class="outline-text-3" id="text-1-1">
<p>
<i>Sources</i>
</p>
<ol class="org-ol">
<li>
<a href="http://docs.nvidia.com/cuda/cuda-getting-started-guide-for-linux/#axzz3qFKp3T3Z">http://docs.nvidia.com/cuda/cuda-getting-started-guide-for-linux/#axzz3qFKp3T3Z</a>
</li>
<li>
<a href="https://developer.nvidia.com/cuda-gpus">https://developer.nvidia.com/cuda-gpus</a>
</li>
</ol>
<p>
To check for a CUDA card in Linux, use the command:
</p>

<div class="highlight"><pre>lspci <span class="p">|</span> grep -i nvidia
</pre></div>

<p>
On my laptop, I get the following output:
</p>

<div class="highlight"><pre>01:00.0 VGA compatible controller: NVIDIA Corporation GF108M <span class="o">[</span>GeForce GT 555M<span class="o">]</span> <span class="o">(</span>rev a1<span class="o">)</span>
</pre></div>

<p>
I checked that the GeForce GT 555m was CUDA-capable at NVIDIA's
website listing all CUDA GPU's (see link above). While it's
certainly not a new GPU card, it is CUDA-enabled with Compute
Capability 2.1.
</p>

<hr>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">
<span class="section-number-2">2</span> Installation of the CUDA Toolkit in Debian with an Optimus chip</h2>
<div class="outline-text-2" id="text-2">
<p>
My first attempts at installing the CUDA toolkit on Debian Jessie
met in failure, likely because libraries were not placed in their
proper positions. I was able to install everything and compile the
CUDA samples, but the compiled samples would always complain that
there was an insufficient driver for the run time environment and
not work. More specifically, they raised the somewhat common CUDA
error 35: CUDA driver version is insufficient for CUDA runtime
version.
</p>

<p>
I eventually found that installing the <b>bumblebee-nvidia primus</b>
package, followed by <b>nvidia-cuda-toolkit</b> and <b>nvidia-nsight</b>
produced a full working environment with a version 6.0 toolkit and
IDE, minus the CUDA samples. To get the samples, I downloaded the
CUDA toolkit version 6.0 .run file from Nvidia and installed only
the samples. They were compiled with the gcc version required for
the 6.0 toolkit, namely gcc 4.7.3.
</p>

<p>
Everything listed below did not work in the end, so just install the
packages above if you're on a laptop with an Optimus card. I'm still
waiting for feedback on the nvidia dev forums to see whether I can
install the later toolkits.
</p>

<hr>
</div>

<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1">
<span class="section-number-3">2.1</span> Installation of the CUDA driver</h3>
<div class="outline-text-3" id="text-2-1">
<p>
<i>Sources</i>
</p>
<ol class="org-ol">
<li>
<a href="https://wiki.debian.org/NvidiaGraphicsDrivers">https://wiki.debian.org/NvidiaGraphicsDrivers</a>
</li>
<li>
<a href="https://wiki.debian.org/Bumblebee">https://wiki.debian.org/Bumblebee</a>
</li>
<li>
<a href="http://linuxconfig.org/nvidia-geforce-driver-installation-on-debian-jessie-linux-8-64bit">http://linuxconfig.org/nvidia-geforce-driver-installation-on-debian-jessie-linux-8-64bit</a>
</li>
<li>
<a href="https://packages.debian.org/jessie/devel/nvidia-cuda-toolkit">https://packages.debian.org/jessie/devel/nvidia-cuda-toolkit</a>
</li>
</ol>
<p>
I mostly followed the directions at the first link above. However,
it took me a few days of failure to realize that the Nvidia card on
my laptop was using Nvidia Optimus, and thus required a specialized
set of drivers known as bumblebee. Before I realized this, I would
install the nvidia-driver package and boot to a black screen with a
single, blinking cursor. This is the result of creating an
xorg.conf file inside <code>/etc/X11/</code>, as cautioned on the Debian Wiki.
</p>

<p>
Luckily, the installation of the proper Nvidia drivers proceeded
smoothly in Debian Jessie once I realized that everything is passed
through my Intel video card and therefore requires bumblebee.
</p>

<p>
The first indication that you might require bumblbee comes from
probing for VGA devices using PCI buses.
</p>

<div class="highlight"><pre>lspci <span class="p">|</span> grep VGA
</pre></div>

<p>
I get the following result:
</p>

<div class="highlight"><pre>00:02.0 VGA compatible controller: Intel Corporation 2nd Generation Core Processor Family Integrated Graphics Controller <span class="o">(</span>rev 09<span class="o">)</span>
01:00.0 VGA compatible controller: NVIDIA Corporation GF108M <span class="o">[</span>GeForce GT 555M<span class="o">]</span> <span class="o">(</span>rev ff<span class="o">)</span>
</pre></div>

<p>
The result on the top line suggests that I need bumblebee because
there is an Intel integrated graphics card in my laptop. You can
also see what card is used to render graphics on your computer by
using the <b>glxheads</b> command. (I'm not sure what package it's part
of.) This will display a rotating figure of a triangle and output
some useful information on the renderer to your shell. Doing this
produces the following on my device:
</p>

<div class="highlight"><pre>kmdouglass@kmd-laptop1:~<span class="nv">$ </span>glxheads
glxheads: exercise multiple GLX connections <span class="o">(</span>any <span class="nv">key</span> <span class="o">=</span> <span class="nb">exit</span><span class="o">)</span>
Usage:
  glxheads xdisplayname ...
Example:
  glxheads :0 mars:0 venus:1
Name: :0.0
  Display:     0xe6d010
  Window:      0x3c00002
  Context:     0xe7baa0
  GL_VERSION:  3.0 Mesa 10.3.2
  GL_VENDOR:   Intel Open Source Technology Center
  GL_RENDERER: Mesa DRI Intel<span class="o">(</span>R<span class="o">)</span> Sandybridge Mobile
</pre></div>

<p>
As you can see, GL is being rendered by the Intel chip, not the
nvidia chip. Next, I installed bumblebee using
</p>

<div class="highlight"><pre>sudo apt-get install bumblebee-nvidia primus
</pre></div>

<p>
After a system restart, I tested that the driver installed
correctly using the glxgears example:
</p>

<div class="highlight"><pre>sudo optirun glxgears -info
</pre></div>

<p>
This opens a window of three gears, green, blue and red, that are
turning. The <b>optirun</b> command is provided by bumblebee and
more-or-less tells the operating system to use the nvidia card, not
the Intel chip. Trying glxheads with optirun produces
</p>

<div class="highlight"><pre>kmdouglass@kmd-laptop1:~$ optirun glxheads
glxheads: exercise multiple GLX connections (any key = exit)
Usage:
  glxheads xdisplayname ...
Example:
  glxheads :0 mars:0 venus:1
Name: :0.0
  Display:     0x1d5d060
  Window:      0x3c00002
  Context:     0x1e586b0
  GL_VERSION:  4.4.0 NVIDIA 340.65
  GL_VENDOR:   NVIDIA Corporation
  GL_RENDERER: GeForce GT 555M/PCIe/SSE2
</pre></div>

<p>
You can also verify that the driver exists by checking for the
nvidia drivers in <code>/proc/driver/</code> using optirun (this won't work if
you do not use optirun).
</p>

<div class="highlight"><pre>kmdouglass@kmd-laptop1:~$ sudo optirun cat /proc/driver/nvidia/version
NVRM version: NVIDIA UNIX x86_64 Kernel Module  340.65  Tue Dec  2 09:50:34 PST 2014
GCC version:  gcc version 4.8.4 (Debian 4.8.4-1)
</pre></div>

<hr>
</div>
</div>

<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2">
<span class="section-number-3">2.2</span> Installation of the toolkit from Nvidia</h3>
<div class="outline-text-3" id="text-2-2">
<p>
<i>Sources</i>
</p>
<ol class="org-ol">
<li>
<a href="http://docs.roguewave.com/totalview/8.14.1/html/index.html#page/User_Guides/totalviewug-about-cuda.31.4.html">http://docs.roguewave.com/totalview/8.14.1/html/index.html#page/User_Guides/totalviewug-about-cuda.31.4.html</a>
</li>
<li>
<a href="http://askubuntu.com/questions/131506/how-can-i-get-nvidia-cuda-or-opencl-working-on-a-laptop-with-nvidia-discrete-car">http://askubuntu.com/questions/131506/how-can-i-get-nvidia-cuda-or-opencl-working-on-a-laptop-with-nvidia-discrete-car</a>
</li>
<li>
<a href="http://stackoverflow.com/questions/13125714/how-to-get-the-nvidia-driver-version-from-the-command-line">http://stackoverflow.com/questions/13125714/how-to-get-the-nvidia-driver-version-from-the-command-line</a>
</li>
<li>
<a href="http://developer.download.nvidia.com/compute/cuda/6_5/rel/docs/CUDA_Getting_Started_Linux.pdf">http://developer.download.nvidia.com/compute/cuda/6_5/rel/docs/CUDA_Getting_Started_Linux.pdf</a>
</li>
</ol>
<p>
I have read that the CUDA samples are not included with the Debian
nvidia-cuda-toolkit. Since these samples are a good learning
resource, I have decided that I cannot live without them ;) So, I
decided to install the toolkit from Nvidia instead of the Debian
package manager.
</p>

<p>
First, I had to find what toolkit version worked with the CUDA
driver version that was installed from the Debian package
repositories (see the previous section <i>Installation of the CUDA
driver</i>). (To my knowledge, the nvidia-smi package won't work if you
use Bumblebee because nvidia-smi will not detect a working graphics
card.) 
</p>

<div class="highlight"><pre>kmdouglass@kmd-laptop1:~<span class="nv">$ </span>sudo aptitude versions nvidia-driver
Package nvidia-driver:                        
i A 340.65-2                                      stable                    <span class="m">995</span> 

Package nvidia-driver-bin:
i A 340.65-2                                      stable                    995
</pre></div>

<p>
I verified this by using optirun to check the driver version. (I
really need to better understand Bumblebee and optirun.)
</p>

<div class="highlight"><pre>kmdouglass@kmd-laptop1:~<span class="nv">$ </span>optirun cat /proc/driver/nvidia/version
NVRM version: NVIDIA UNIX x86_64 Kernel Module  340.65  Tue Dec  <span class="m">2</span> 09:50:34 PST 2014
GCC version:  gcc version 4.8.4 <span class="o">(</span>Debian 4.8.4-1<span class="o">)</span>
</pre></div>

<p>
So it looks like I am using driver version 340.65. The minimum
version to use the SDK Tool Chain 6.5 is 340.21, so I believe I can
download and use the 6.5 toolkit. I downloaded the
<b>cuda_6.5.14_linux_64.run</b> file from
<a href="https://developer.nvidia.com/cuda-toolkit-65">https://developer.nvidia.com/cuda-toolkit-65</a> and followed the
instructions on this forum:
<a href="http://askubuntu.com/questions/131506/how-can-i-get-nvidia-cuda-or-opencl-working-on-a-laptop-with-nvidia-discrete-car">http://askubuntu.com/questions/131506/how-can-i-get-nvidia-cuda-or-opencl-working-on-a-laptop-with-nvidia-discrete-car</a>.
</p>

<p>
UPDATE: The following text that is crossed out will result in you
not being able to compile CUDA files since gcc 4.9 and up will
absolutely not work with the CUDA 6.5 toolkit. Instead of
overriding the installation checks, I compiled a gcc version that
worked with the 6.5 toolkit, namely gcc 4.8.2. I then used
<b>update-alternatives</b> to set the current system compiler to this
version and reran the install.
</p>

<p>
<del>After making the .run file executable, I had to add an –override
flag to the installation command because my version of gcc (4.9.2)</del>
<del>was supposedly not supported.</del>
</p>

<p>
I accepted all the defaults (excep that I chose not to install the
included nvidia driver). The install ran fine with gcc 4.8.2, but I
received a notification in the final install message about these
missing library files:
</p>

<div class="highlight"><pre>Missing recommended library: libX11.so
Missing recommended library: libXi.so
Missing recommended library: libXmu.so
Missing recommended library: libGL.so
</pre></div>

<p>
This happened even though I had the relevant *-dev packages
installed. Fortunately, I remembered having similar issues in the
past and that they were caused by Debian moving many important .so
files to <code>/usr/lib/x86_64-linux-gnu</code>; many programs still expect to
find libraries in <code>/usr/lib</code>. To fix this, I created symlinks in
<code>/usr/lib/</code> to the corresponding files:
</p>

<div class="highlight"><pre>sudo ln -s x86_64-linux-gnu/libX11.so libX11.so
sudo ln -s x86_64-linux-gnu/libXi.so libXi.so
sudo ln -s x86_64-linux-gnu/libXmu.so libXmu.so
sudo ln -s x86_64-linux-gnu/libGL.so libGL.so
</pre></div>

<p>
I uninstalled and reinstalled the toolkit, finally receiving the
following output:
</p>

<div class="highlight"><pre>===========
= Summary =
===========

Driver:   Not Selected
Toolkit:  Installed in /usr/local/cuda-6.5
Samples:  Installed in /home/kmdouglass

Please make sure that
 -   PATH includes /usr/local/cuda-6.5/bin
 -   LD_LIBRARY_PATH includes /usr/local/cuda-6.5/lib64, or, add /usr/local/cuda-6.5/lib64 to /etc/ld.so.conf and run ldconfig as root

To uninstall the CUDA Toolkit, run the uninstall script in /usr/local/cuda-6.5/bin
To uninstall the NVIDIA Driver, run nvidia-uninstall

Please see CUDA_Getting_Started_Guide_For_Linux.pdf in /usr/local/cuda-6.5/doc/pdf for detailed information on setting up CUDA.

***WARNING: Incomplete installation! This installation did not install the CUDA Driver. A driver of version at least 340.00 is required for CUDA 6.5 functionality to work.
To install the driver using this installer, run the following command, replacing &lt;CudaInstaller&gt; with the name of this run file:
    sudo &lt;CudaInstaller&gt;.run -silent -driver

Logfile is /tmp/cuda_install_7306.log
</pre></div>

<p>
I next updated my PATH environment variable and added
<code>/usr/local/cuda-6.5/lib64</code> to ld.so.conf and ran ldconfig as
directed.
</p>

<hr>
</div>

<div id="outline-container-sec-2-2-1" class="outline-4">
<h4 id="sec-2-2-1">
<span class="section-number-4">2.2.1</span> Switching to another gcc version</h4>
<div class="outline-text-4" id="text-2-2-1">
<p>
<i>Sources</i>
</p>
<ol class="org-ol">
<li>
<a href="http://lektiondestages.blogspot.ch/2013/05/installing-and-switching-gccg-versions.html">http://lektiondestages.blogspot.ch/2013/05/installing-and-switching-gccg-versions.html</a>
</li>
<li>
<a href="http://www.tellurian.com.au/whitepapers/multiplegcc.php">http://www.tellurian.com.au/whitepapers/multiplegcc.php</a>
</li>
</ol>
<p>
Looking inside <code>/usr/bin</code> I noticed that I had two versions of gcc
installed, 4.8 and 4.9. I found that I could easily switch between
them by using <b>update-alternatives</b>. I configured the alternatives
with the following commands:
</p>

<div class="highlight"><pre>sudo update-alternatives --remove-all gcc
sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.9 60
sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.8 40
</pre></div>

<p>
Next, I switched to version 4.8 using
</p>

<div class="highlight"><pre>sudo update-alternatives --config gcc
</pre></div>

<p>
Checking the version on the command line to ensure that 4.8 was
selected:
</p>

<div class="highlight"><pre>kmdouglass@kmd-laptop1:~/src$ gcc --version
gcc (Debian 4.8.4-1) 4.8.4
Copyright (C) 2013 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
</pre></div>

<p>
Unfortunately, this 4.8.4 is not supported by CUDA either, so I
attempted to install my own isolated version of gcc 4.8.2
instead. First, I downloaded 4.8.2 from a mirror, unzipped it, and
created a build directory. I switched back to gcc 4.9 using
<b>update-alternatives</b> as above, and then I ran the configure
script.
</p>

<div class="highlight"><pre>cd ~/src
tar -xvzf gcc-4.8.2.tar.gz
mkdir gobj
cd gobj
../gcc-4.8.2/configure --prefix=/usr/local/gcc/4.8.2 --enable-multiarch
</pre></div>

<p>
(I am not sure whether the <b>–enable-multiarch</b> flag was
necessary.) I had to install the <b>libmpfr-dev</b> and <b>libmpc-dev</b>
packages to pass the configuration checks. Once the configuration
was succesful, I started the build.
</p>

<div class="highlight"><pre>make bootstrap
</pre></div>

<p>
During the build I encountered a few errors. One is that I didn't
have g++ installed (this was a surprise). After installing it, I
received an error about a missing cdefs.h header file. This is
related to missing 32 bit libraries as discussed here:
<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=761468">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=761468</a>. The
solution is to install the <b>gcc-multilib</b> package. Be sure that
<b>zip</b> (yes, really) is installed because the compilation raised an
error after 2 hours because zip was missing. After installing
these packages, rerun the configure script, and then rerun <b>make
bootstrap</b>.
</p>

<p>
When the installation finishes (mine took about 3 hours), install
the compiler to the directory that was set in the configure
script:
</p>

<div class="highlight"><pre>sudo make install
</pre></div>

<p>
Don't forget to use <b>update-alternatives</b> and switch gcc to the
version you want.
</p>

<div class="highlight"><pre>sudo update-alternatives --remove gcc
sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.9 <span class="m">70</span> --slave /usr/bin/g++ g++ /usr/bin/g++-4.9 
sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.8 <span class="m">20</span> 
sudo update-alternatives --install /usr/bin/gcc gcc /usr/local/gcc/4.8.2/bin/gcc <span class="m">10</span> --slave /usr/bin/g++ g++ /usr/local/gcc/4.8.2/bin/g++
</pre></div>
<hr>
</div>
</div>
</div>

<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3">
<span class="section-number-3">2.3</span> Compiling the samples</h3>
<div class="outline-text-3" id="text-2-3">
<p>
If everything was installed correctly, you can try compiling the
samples:
</p>

<div class="highlight"><pre>&lt;span <span class="nv">style</span><span class="o">=</span><span class="s2">"font-weight: bold;"</span>&gt;cd&lt;/span&gt; ~/NVIDIA_CUDA-6.5_Samples
make
</pre></div>

<p>
They compiled, but ultimately they would not run. For example, if I
ran deviceQuery, I would receive an error stating <b>CUDA driver
version is insufficient for CUDA runtime version</b>, even though my
driver was newer than the one provided by the CUDA 6.5 toolkit. The
same happened if I ran the compiled programs with <b>optirun</b> or
<b>primusrun</b>.
</p>

<hr>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">
<span class="section-number-2">3</span> Uninstalling the Nvidia drivers</h2>
<div class="outline-text-2" id="text-3">
<p>
After uninstalling the drivers, it's important to remove the nouveau
blacklist if it was added to <b>modprobe.d</b>. These blacklist files are
saved in <code>/etc/modprobe.d</code>. You may also need to reinstall the
xserver and reconfigure it:
</p>

<div class="highlight"><pre>sudo apt-get install --reinstall xserver-xorg-video-nouveau
sudo dpkg-reconfigure xserver-xorg
sudo shutdown -r now
</pre></div>

<p>
More information may be found <a href="http://askubuntu.com/questions/360761/cannot-get-rid-of-nvidia-drivers-restore-nouveau-driver-and-get-desktop-working">here</a>.
</p>
</div>
</div>
    </div>
    

</article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2016         <a href="mailto:kyle.douglass@epfl.ch">Kyle M. Douglass</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
