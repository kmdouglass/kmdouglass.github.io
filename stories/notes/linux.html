<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Notes I've collected for doing things in Linux">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Linux Notes | Kyle M. Douglass</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="http://kmdouglass.github.io/stories/notes/linux.html">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><meta name="description" itemprop="description" content="Notes I've collected for doing things in Linux">
<meta name="author" content="Kyle M. Douglass">
<meta property="og:site_name" content="Kyle M. Douglass">
<meta property="og:title" content="Linux Notes">
<meta property="og:url" content="http://kmdouglass.github.io/stories/notes/linux.html">
<meta property="og:description" content="Notes I've collected for doing things in Linux">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2014-12-26T00:00:00+01:00">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-default navbar-static-top" role="navigation"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://kmdouglass.github.io/">

                <span id="blog-title">Kyle M. Douglass</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../about-me.html">About</a>
                </li>
<li>
<a href="../notes-and-projects.html">Notes</a>
                </li>
<li>
<a href="../../posts/index.html">Blog</a>
                </li>
<li>
<a href="../../categories/index.html">Tags</a>
                </li>
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../contact.html">Contact</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>
    <a href="linux.org" id="sourcelink">Source</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="storypage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Linux Notes</a></h1>

        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="linux.html#sec-1">1. Notes on Linux</a></li>
<li><a href="linux.html#sec-2">2. Why install Debian?</a></li>
<li>
<a href="linux.html#sec-3">3. Debian installation from a live USB stick</a>
<ul>
<li><a href="linux.html#sec-3-1">3.1. Downloading the .iso image files</a></li>
<li><a href="linux.html#sec-3-2">3.2. Copy the .iso file to a USB stick</a></li>
<li><a href="linux.html#sec-3-3">3.3. Installing Debian</a></li>
</ul>
</li>
<li>
<a href="linux.html#sec-4">4. Initial Debian Configuration</a>
<ul>
<li><a href="linux.html#sec-4-1">4.1. List of required software</a></li>
<li>
<a href="linux.html#sec-4-2">4.2. WiFi</a>
<ul>
<li><a href="linux.html#sec-4-2-1">4.2.1. Adding non-free repositories</a></li>
<li><a href="linux.html#sec-4-2-2">4.2.2. Installing non-free wireless drivers</a></li>
<li><a href="linux.html#sec-4-2-3">4.2.3. Configuring WiFi</a></li>
</ul>
</li>
<li>
<a href="linux.html#sec-4-3">4.3. Installing emacs on Debian</a>
<ul>
<li><a href="linux.html#sec-4-3-1">4.3.1. Configuring auto-complete</a></li>
</ul>
</li>
<li><a href="linux.html#sec-4-4">4.4. Setting the keyboard layout to international</a></li>
<li><a href="linux.html#sec-4-5">4.5. Changing the Caps Lock key to function as Control</a></li>
<li><a href="linux.html#sec-4-6">4.6. Running Dropbox on startup</a></li>
<li><a href="linux.html#sec-4-7">4.7. Remove the XFCE bottom panel</a></li>
<li>
<a href="linux.html#sec-4-8">4.8. Adobe Flash</a>
<ul>
<li><a href="linux.html#sec-4-8-1">4.8.1. Installing the Flash plugin</a></li>
<li><a href="linux.html#sec-4-8-2">4.8.2. Updating Flash</a></li>
</ul>
</li>
<li><a href="linux.html#sec-4-9">4.9. Playing DVD's in VLC</a></li>
<li><a href="linux.html#sec-4-10">4.10. Activating the Firefox Java Plugin</a></li>
<li><a href="linux.html#sec-4-11">4.11. Latex installation</a></li>
<li>
<a href="linux.html#sec-4-12">4.12. Automatic Backups with rsync and cron</a>
<ul>
<li><a href="linux.html#sec-4-12-1">4.12.1. Enabling cron logging</a></li>
<li><a href="linux.html#sec-4-12-2">4.12.2. Running cron with sudo privileges</a></li>
<li><a href="linux.html#sec-4-12-3">4.12.3. Incremental backups</a></li>
</ul>
</li>
<li><a href="linux.html#sec-4-13">4.13. Install Microsoft Core Fonts</a></li>
<li>
<a href="linux.html#sec-4-14">4.14. Monitor settings</a>
<ul>
<li><a href="linux.html#sec-4-14-1">4.14.1. Dual monitors</a></li>
<li><a href="linux.html#sec-4-14-2">4.14.2. Screen brightness</a></li>
</ul>
</li>
<li><a href="linux.html#sec-4-15">4.15. Time updates with ntpdate</a></li>
</ul>
</li>
<li><a href="linux.html#sec-5">5. Choosing software version alternatives</a></li>
<li>
<a href="linux.html#sec-6">6. Python setup</a>
<ul>
<li><a href="linux.html#sec-6-1">6.1. Compiling Python 3.4</a></li>
<li>
<a href="linux.html#sec-6-2">6.2. Installing IPython 2.0</a>
<ul>
<li><a href="linux.html#sec-6-2-1">6.2.1. IPython Notebook</a></li>
<li><a href="linux.html#sec-6-2-2">6.2.2. Fixing indentation errors</a></li>
</ul>
</li>
<li><a href="linux.html#sec-6-3">6.3. Installing Numpy 1.8.1, matplotlib 1.3.1, scipy 0.14, and Pillow 2.4.0</a></li>
<li><a href="linux.html#sec-6-4">6.4. Multiple IPython prompts at startup</a></li>
<li><a href="linux.html#sec-6-5">6.5. Getting Tk and Latex support in Python</a></li>
<li><a href="linux.html#sec-6-6">6.6. Installing Jedi</a></li>
</ul>
</li>
<li>
<a href="linux.html#sec-7">7. Org-mode configuration</a>
<ul>
<li><a href="linux.html#sec-7-1">7.1. Publish to LaTeX with references</a></li>
</ul>
</li>
<li>
<a href="linux.html#sec-8">8. CIFS</a>
<ul>
<li><a href="linux.html#sec-8-1">8.1. CIFS installation</a></li>
<li><a href="linux.html#sec-8-2">8.2. Accessing Windows shares remotely</a></li>
<li><a href="linux.html#sec-8-3">8.3. fstab options for mounting shares as a user</a></li>
</ul>
</li>
<li>
<a href="linux.html#sec-9">9. Booting from a bootloader on a USB stick</a>
<ul>
<li><a href="linux.html#sec-9-1">9.1. Installing GRUB onto a USB stick</a></li>
<li><a href="linux.html#sec-9-2">9.2. Configuring GRUB on the USB stick to work with your machine</a></li>
<li>
<a href="linux.html#sec-9-3">9.3. GRUB troubleshooting</a>
<ul>
<li><a href="linux.html#sec-9-3-1">9.3.1. GRUB installation hangs when making device.map</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">
<span class="section-number-2">1</span> Notes on Linux</h2>
<div class="outline-text-2" id="text-1">
<p>
This page serves as a collection of notes I've made while using
Linux. It's meant to be a resource to help others and myself when
performing common tasks in the Linux operating system. Let me know
if it helps you in any way!
</p>

<hr>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">
<span class="section-number-2">2</span> Why install Debian?</h2>
<div class="outline-text-2" id="text-2">
<p>
For the last five or six years, I have been using Ubuntu at home,
and sometimes at the office. (I'm writing this in 2014, a few months
after I finished my PhD studies.) I've liked it quite a bit and
learned a lot from it because it is a relatively gentle introduction
to Linux.
</p>

<p>
Lately I've become a bored with it however. I also get a vague
feeling that it's becoming a bit bloated. At home, I mainly use
emacs, Firefox, Anki (a flashcard program), and Python along with
its many associated packages. I don't therefore need a large
operating system. Now, I know that there are lightweight versions of
Ubuntu, but at this point I'm really just interested in trying
something else.
</p>

<p>
So, I decided to give Debian a try. Ubuntu is based on Debian, but
so far as I can tell Debian has remained closer to the open source
paradigm. Furthermore, Debian is actively developed and very mature.
</p>

<hr>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">
<span class="section-number-2">3</span> Debian installation from a live USB stick</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1">
<span class="section-number-3">3.1</span> Downloading the .iso image files</h3>
<div class="outline-text-3" id="text-3-1">
<p>
<i>File: debian-live-7.4-amd64-xfce-desktop.iso.torrent</i>
<i>Location: <a href="http://cdimage.debian.org/debian-cd/current-live/amd64/bt-hybrid/">http://cdimage.debian.org/debian-cd/current-live/amd64/bt-hybrid/</a></i>
</p>

<p>
I want to use a light-weight desktop environment. For lack of
experience in the matter and any strong opinion, I settled on Xfce,
though Debian also has a flavor that comes with LXDE.
</p>

<p>
I downloaded Debian 7.4 live image torrent coupled with the Xfce
desktop from Debian's site. They recommend using the torrent since
it reduces load on their servers.
</p>

<hr>
</div>
</div>

<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2">
<span class="section-number-3">3.2</span> Copy the .iso file to a USB stick</h3>
<div class="outline-text-3" id="text-3-2">
<p>
<i>Information sources</i>
</p>
<ol class="org-ol">
<li>
<a href="https://www.debian.org/releases/stable/amd64/ch04s03.html.en/">https://www.debian.org/releases/stable/amd64/ch04s03.html.en/</a>
</li>
<li>
<a href="https://www.debian.org/CD/faq/#write-usb">https://www.debian.org/CD/faq/#write-usb</a>
</li>
</ol>
<p>
Surprisingly, the first website above suggested that <i>should</i> be
able boot the image simply by copying it to a USB stick. Of course,
I have to enable booting from USB in my BIOS.  First, I verified
the device name of the USB by inserting it and entering the <i>dmesg</i>
command in a shell. The kernel buffer reported detecting the USB
stick as the latest message. On my machine, it is labeled as
<code>/dev/sdb/</code>.
</p>

<div class="highlight"><pre>sudo cp Downloads/debian-live-7.4-amd64-xfce-desktop.iso /dev/sdb<span class="p">;</span> sync
</pre></div>

<p>
Note that sometimes there are multiple devices that appear in
<code>/dev/</code> that relate to your device. For example, in my Ubuntu 12.04
system, there is a <code>/dev/sdb</code> and <code>/dev/sdb1</code> even though, to my
knowledge, only one partition exists. My computer could not load
the image when it was copied to <code>/dev/sdb1</code> but it did boot when
copied to <code>/dev/sdb</code>. You should also be sure that the USB stick is
not mounted and you should not try to <i>cp</i> to its mount point, such
as <code>/media/USB20FS/</code>.
</p>

<p>
Finally, you may need to partition the stick to a FAT16 or FAT32
file system. I used FAT16.
</p>

<p>
I ensured that I was capable of booting from USB in my BIOS by
pressing <i>F2</i> at the BIOS boot screen (I'm using a Lenovo Ideapad
Y570.). I enabled USB booting in the <i>Configuration</i> tab and moved
the USB boot priority over the harddisks in the <i>Boot</i>
tab.
</p>

<p>
The computer was capable of booting Debian from the USB stick after
this.
</p>

<hr>
</div>
</div>

<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3">
<span class="section-number-3">3.3</span> Installing Debian</h3>
<div class="outline-text-3" id="text-3-3">
<p>
I used the graphical installer provided by the system on the live
USB stick. Before doing so, I had repartitioned my harddrive using
Windows Disk Management. The first three primary partitions were
the boot partition, the Windows system partition (C:\), and a
partition that contained software from Lenovo (D:\). The very last
partition on the harddrive was also placed there by Lenovo and I
think contains Windows restore files.
</p>

<p>
I shrunk the the D:\ volume down to 20 GB in Windows, which was
more than enough space for the Lenovo software. Then, in the Debian
installer, I added a 150 GB partion for <code>/home</code>, an 8.8 GB swap
space partition, and finally I allotted 35 GB to <code>/</code>. I placed
these between the partition containing the D:\ volume and the final
OEM partitions . This left 35 GB free in case I decide to install
another distribution in the future.
</p>

<p>
The rest of the graphical installer worked well, including the
installation of the <a href="http://www.gnu.org/software/grub/">Grub</a> bootloader. Upon rebooting, the Grub menu
allowed me to boot into Debian or Windows 7.
</p>

<hr>
</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">
<span class="section-number-2">4</span> Initial Debian Configuration</h2>
<div class="outline-text-2" id="text-4">
<p>
A lot of my initial configuration is of the desktop environment. One
especially useful set of tips for setting up XFCE is here:
<a href="http://www.binarytides.com/better-fedora-20-xfce/">http://www.binarytides.com/better-fedora-20-xfce/</a>
</p>

<hr>
</div>

<div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1">
<span class="section-number-3">4.1</span> List of required software</h3>
<div class="outline-text-3" id="text-4-1">
<p>
I use the following software packages regularly, so they should be
installed after any fresh OS installation.
</p>

<ol class="org-ol">
<li>emacs (w/org-mode)
</li>
<li>Dropbox
</li>
<li>Python (w/numpy, scipy, and matplotlib)
</li>
<li>Firefox (w/XMarks)
</li>
<li>KeepassX
</li>
<li>TrueCrypt
</li>
<li>Inkscape
</li>
</ol>
<hr>
</div>
</div>

<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2">
<span class="section-number-3">4.2</span> WiFi</h3>
<div class="outline-text-3" id="text-4-2">
<p>
Unfortunately, my wireless card doesn't work without some setup in
Debian. The drivers for the wireless are non-free, which means that
they don't adhere to Debian's open source policy.
</p>

<hr>
</div>

<div id="outline-container-sec-4-2-1" class="outline-4">
<h4 id="sec-4-2-1">
<span class="section-number-4">4.2.1</span> Adding non-free repositories</h4>
<div class="outline-text-4" id="text-4-2-1">
<p>
<i>Information sources</i>
</p>
<ol class="org-ol">
<li>
<a href="http://forums.debian.net/viewtopic.php?f=10&amp;t=63380">http://forums.debian.net/viewtopic.php?f=10&amp;t=63380</a>
</li>
</ol>
<p>
To add non-free repositories to the Debian package manager, I had
to edit the <code>/etc/apt/sources.list</code> file. In this file, there will
be a lines that correspond to different servers, one of which will
be the server for the primary packages. At the end of this line, I
added <i>non-free</i>. This should add the non-free packages to
aptitude's search. There may be other options such as <i>main</i>, which
include the primary packages. These should be left in place.
</p>

<hr>
</div>
</div>

<div id="outline-container-sec-4-2-2" class="outline-4">
<h4 id="sec-4-2-2">
<span class="section-number-4">4.2.2</span> Installing non-free wireless drivers</h4>
<div class="outline-text-4" id="text-4-2-2">
<p>
<i>Information sources</i>
</p>
<ol class="org-ol">
<li>
<a href="http://www.overclock.net/t/1477672/debian-lenovo-y570-no-wifi-solve">http://www.overclock.net/t/1477672/debian-lenovo-y570-no-wifi-solve</a>
</li>
</ol>
<p>
I installed the following packages containing drivers for my
wireless card: <i>firmware-brcm80211</i> and <i>iwlwifi</i>. I've found sites
that either only one or both are needed, and I'm not sure if I
really need both.
</p>

<hr>
</div>
</div>

<div id="outline-container-sec-4-2-3" class="outline-4">
<h4 id="sec-4-2-3">
<span class="section-number-4">4.2.3</span> Configuring WiFi</h4>
<div class="outline-text-4" id="text-4-2-3">
<p>
<i>Information sources</i>
</p>
<ol class="org-ol">
<li>
<a href="http://www.overclock.net/t/1477672/debian-lenovo-y570-no-wifi-solve">http://www.overclock.net/t/1477672/debian-lenovo-y570-no-wifi-solve</a>
</li>
<li>
<a href="https://bbs.archlinux.org/viewtopic.php?pid=1141454">https://bbs.archlinux.org/viewtopic.php?pid=1141454</a>
</li>
<li>
<a href="http://forums.debian.net/viewtopic.php?f=5&amp;t=73778">http://forums.debian.net/viewtopic.php?f=5&amp;t=73778</a>
</li>
</ol>
<p>
The following commands are very important for configuring the WiFi
in Debian. (See source 3 above.)
</p>

<dl class="org-dl">
<dt> ifconfig </dt>
<dd>enables the wireless device
</dd>
<dt> iwlist </dt>
<dd>lists available wireless access points
</dd>
<dt> iwconfig </dt>
<dd>configures the wireless connection
</dd>
<dt> dhclient </dt>
<dd>get an IP address via dhcp
</dd>
<dt> ifup </dt>
<dd>activiates the wireless interface
</dd>
<dt> ifdown </dt>
<dd>deactivates the wireless interface
</dd>
</dl>
<p>
<i>iwlist</i> is the equivalent of the Windows menu that displays the
available networks. It also lists other important information
regarding the nearby wireless networks.
</p>

<p>
The <code>/etc/network/interfaces</code> file stores wireless networks to
connect to automatically. In this file, add the following lines to
add a network:
</p>

<div class="highlight"><pre>auto wlan0
iface wlan0 inet dhcp
wpa-ssid mynetwork
wpa-psk password
</pre></div>

<p>
Finally, use the program <i>rfkill</i> to report the identity of the
hard and soft switches for devices like WiFi. I may need to press a
Function-F&lt;num&gt; key combination to activate the WiFi as well.
</p>

<hr>
</div>
</div>
</div>

<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3">
<span class="section-number-3">4.3</span> Installing emacs on Debian</h3>
<div class="outline-text-3" id="text-4-3">
<p>
<i>Sources</i>
</p>
<ol class="org-ol">
<li>
<a href="http://www.emacswiki.org/emacs/EmacsSnapshotAndDebian">http://www.emacswiki.org/emacs/EmacsSnapshotAndDebian</a>
</li>
</ol>
<p>
I can get the latest emacs source files from the emacs git
repository. Use the command
</p>

<div class="highlight"><pre>git clone --depth <span class="m">1</span> git://git.sv.gnu.org/emacs.git
</pre></div>

<p>
to clone the repository. I installed the required packages, then
built the binaries as instructed. Note that I built emacs in
<code>~/opt/emacs-2014-04-13/</code> and made a symbolic link to the binaries
for this build in <code>/usr/bin</code>.
</p>

<hr>
</div>

<div id="outline-container-sec-4-3-1" class="outline-4">
<h4 id="sec-4-3-1">
<span class="section-number-4">4.3.1</span> Configuring auto-complete</h4>
<div class="outline-text-4" id="text-4-3-1">
<p>
<i>Sources</i>
</p>
<ol class="org-ol">
<li>
<a href="http://cx4a.org/software/auto-complete/manual.html#Manual_Installation">http://cx4a.org/software/auto-complete/manual.html#Manual_Installation</a>
</li>
<li>
<a href="http://www.jesshamrick.com/2012/09/18/emacs-as-a-python-ide/">http://www.jesshamrick.com/2012/09/18/emacs-as-a-python-ide/</a>
</li>
</ol>
<p>
A long time ago I followed <a href="http://www.jesshamrick.com/2012/09/18/emacs-as-a-python-ide/">Jess Hamrick's guide</a> for configuring
emacs for Python. This first exposed me to auto-complete, a useful
tool for automatically completing words as you type them. However,
I found that its configuration requires a few extra steps to get
working.
</p>

<p>
For one, I manually created the <i>ac-dict</i> file that's mentioned in
the lines of code that are added to the init.el file. I also found
that the letters 'AC' must be in the mode-line in Emacs. If
they're not, type <i>M-x auto-mode-complete</i> to get it working.
</p>

<hr>
</div>
</div>
</div>

<div id="outline-container-sec-4-4" class="outline-3">
<h3 id="sec-4-4">
<span class="section-number-3">4.4</span> Setting the keyboard layout to international</h3>
<div class="outline-text-3" id="text-4-4">
<p>
Understanding how the keyboard configuration works is one of the
most mysterious things to me in Linux and Xfce. Fortunately I at
least determined how to set the keyboard to a US International
layout. This is important because I live in French-speaking
Switzerland and frequently need to use a number of accent keys.
</p>

<p>
To switch the keyboard, I right-clicked on the desktop to bring up
the menu. I navigated to <code>Applications -&gt; Settings -&gt; Keyboard</code>. In
this window, I selected the Layout tab. I clicked the "Add" button,
then selected <code>English (US) -&gt; English (international AltGr dead
  keys)</code>, which is my preferred international layout. I also removed
the original keyboard layout after adding the international one.
</p>

<hr>
</div>
</div>

<div id="outline-container-sec-4-5" class="outline-3">
<h3 id="sec-4-5">
<span class="section-number-3">4.5</span> Changing the Caps Lock key to function as Control</h3>
<div class="outline-text-3" id="text-4-5">
<p>
I usually change the Caps Lock key to Control since it makes typing
in emacs much easier.
</p>

<p>
To swap the keys in Xfce, right click on the Desktop and navigate
to <code>Applications -&gt; Settings -&gt; Session and Startup</code>. In window,
click on the <code>Application Autostart</code> tab and click the "Add"
button.
</p>

<p>
In the prompt, enter the following information:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="left">
<col class="left">
</colgroup>
<thead><tr>
<th scope="col" class="left">Field Name</th>
<th scope="col" class="left">Option</th>
</tr></thead>
<tbody>
<tr>
<td class="left">Name</td>
<td class="left">Caps Lock &lt;-&gt; Control</td>
</tr>
<tr>
<td class="left">Description</td>
<td class="left">Change Caps Lock to Control</td>
</tr>
<tr>
<td class="left">Command</td>
<td class="left">/usr/bin/setxkbmap -option '' -option 'ctrl:nocaps'</td>
</tr>
</tbody>
</table>
<hr>
</div>
</div>

<div id="outline-container-sec-4-6" class="outline-3">
<h3 id="sec-4-6">
<span class="section-number-3">4.6</span> Running Dropbox on startup</h3>
<div class="outline-text-3" id="text-4-6">
<p>
<i>Sources</i>
</p>
<ol class="org-ol">
<li>
<a href="http://www.ghacks.net/2009/04/04/get-to-know-linux-the-etcinitd-directory/">http://www.ghacks.net/2009/04/04/get-to-know-linux-the-etcinitd-directory/</a>
</li>
<li>
<a href="http://pixeldust.wikidot.com/linode-setup:dropbox">http://pixeldust.wikidot.com/linode-setup:dropbox</a>
</li>
<li>
<a href="http://help.directadmin.com/item.php?id=379">http://help.directadmin.com/item.php?id=379</a>
</li>
</ol>
<p>
For whatever reason, I couldn't seem to get Dropbox to start after
the system boots through the XFCE GUI. To fix this, I added a
service script called <b>/etc/init.d/dropbox</b> that I found at one of
the sources above. I needed to add the recommended special tags to
avoid an insserv error. The script looks like this:
</p>

<div class="highlight"><pre>### BEGIN INIT INFO
# Provides:          dropbox
# Required-Start:    $local_fs $network
# Required-Stop:     $local_fs
# Default-Start:     2 3 4 5
# Default-Stop:      0 1 6
# Short-Description: Dropbox
# Description:       Dropbox daemon
### END INIT INFO

# dropbox service
DROPBOX_USERS="kmdouglass"

DAEMON=.dropbox-dist/dropbox

start() {
    echo "Starting dropbox..."
    for dbuser in $DROPBOX_USERS; do
        HOMEDIR=`getent passwd $dbuser | cut -d: -f6`
        if [ -x $HOMEDIR/$DAEMON ]; then
            HOME="$HOMEDIR" start-stop-daemon -b -o -c $dbuser -S -u $dbuser -x $HOMEDIR/$DAEMON
        fi
    done
}

stop() {
    echo "Stopping dropbox..."
    for dbuser in $DROPBOX_USERS; do
        HOMEDIR=`getent passwd $dbuser | cut -d: -f6`
        if [ -x $HOMEDIR/$DAEMON ]; then
            start-stop-daemon -o -c $dbuser -K -u $dbuser -x $HOMEDIR/$DAEMON
        fi
    done
}

status() {
    for dbuser in $DROPBOX_USERS; do
        dbpid=`pgrep -u $dbuser dropbox`
        if [ -z $dbpid ] ; then
            echo "dropboxd for USER $dbuser: not running."
        else
            echo "dropboxd for USER $dbuser: running (pid $dbpid)"
        fi
    done
}

case "$1" in
  start)
    start
    ;;

  stop)
    stop
    ;;

  restart|reload|force-reload)
    stop
    start
    ;;

  status)
    status
    ;;

  *)
    echo "Usage: /etc/init.d/dropbox {start|stop|reload|force-reload|restart|status}"
    exit 1

esac

exit 0
</pre></div>

<p>
Next, I ran the following commands:
</p>

<div class="highlight"><pre>sudo chmod +x /etc/init.d/dropbox 
sudo update-rc.d dropbox defaults
</pre></div>

<p>
The first command ensures that the script can be executed, and I
believe that the second creates the symlinks to the script in the
appropriate run-level folders inside <b><i>etc</i></b>.
</p>

<hr>
</div>
</div>

<div id="outline-container-sec-4-7" class="outline-3">
<h3 id="sec-4-7">
<span class="section-number-3">4.7</span> Remove the XFCE bottom panel</h3>
<div class="outline-text-3" id="text-4-7">
<p>
I don't like how much space the XFCE bottom panel takes up, so I
removed it by right-clicking on the desktop and navigating to
<b>Applications -&gt; Settings -&gt; Panel</b>. I selected <b>Panel 2</b> from
drop-down list and clicked the Minus sign. A dialog appeared asking
if I really wanted to remove the lower panel.
</p>

<hr>
</div>
</div>
<div id="outline-container-sec-4-8" class="outline-3">
<h3 id="sec-4-8">
<span class="section-number-3">4.8</span> Adobe Flash</h3>
<div class="outline-text-3" id="text-4-8">
</div>
<div id="outline-container-sec-4-8-1" class="outline-4">
<h4 id="sec-4-8-1">
<span class="section-number-4">4.8.1</span> Installing the Flash plugin</h4>
<div class="outline-text-4" id="text-4-8-1">
<p>
<i>Sources</i>
</p>
<ol class="org-ol">
<li>
<a href="https://wiki.debian.org/FlashPlayer">https://wiki.debian.org/FlashPlayer</a>
</li>
</ol>
<p>
I installed Adobe Flash by adding "contrib" to the list of primary
repositories in <code>/etc/apt/sources.list</code>. Then I ran the commands
</p>

<div class="highlight"><pre>sudo apt-get update
sudo apt-get install flashplugin-nonfree
</pre></div>

<p>
After a browser restart, I could see Flash videos on webpages.
</p>

<hr>
</div>
</div>
<div id="outline-container-sec-4-8-2" class="outline-4">
<h4 id="sec-4-8-2">
<span class="section-number-4">4.8.2</span> Updating Flash</h4>
<div class="outline-text-4" id="text-4-8-2">
<p>
<i>Sources</i>
</p>
<ol class="org-ol">
<li>
<a href="https://wiki.debian.org/FlashPlayer">https://wiki.debian.org/FlashPlayer</a>
</li>
</ol>
<p>
To update the Flash plugin, I've found that a simple <code>sudo apt-get
    update &amp;&amp; apt-get upgrade</code> doesn't work. Instead, I run the
following command:
</p>

<div class="highlight"><pre>sudo update-flashplugin-nonfree --install
</pre></div>

<hr>
</div>
</div>
</div>

<div id="outline-container-sec-4-9" class="outline-3">
<h3 id="sec-4-9">
<span class="section-number-3">4.9</span> Playing DVD's in VLC</h3>
<div class="outline-text-3" id="text-4-9">
<p>
Most DVD's are write-protected and need a special package to play
in VLC on Linux. This package is called <b>libdvdcss2</b> in Debian.
</p>

<hr>
</div>
</div>
<div id="outline-container-sec-4-10" class="outline-3">
<h3 id="sec-4-10">
<span class="section-number-3">4.10</span> Activating the Firefox Java Plugin</h3>
<div class="outline-text-3" id="text-4-10">
<p>
I installed the package called <i>icedtea-7-plugin</i> and it worked. Be
sure to allow applets to run in your browser.
</p>
<hr>
</div>
</div>
<div id="outline-container-sec-4-11" class="outline-3">
<h3 id="sec-4-11">
<span class="section-number-3">4.11</span> Latex installation</h3>
<div class="outline-text-3" id="text-4-11">
<p>
<i>Sources</i>
</p>
<ol class="org-ol">
<li>
<a href="https://wiki.debian.org/Latex">https://wiki.debian.org/Latex</a>
</li>
<li>
<a href="http://askubuntu.com/questions/296638/texlive-cant-find-wrapfig-sty-while-package-is-installed">http://askubuntu.com/questions/296638/texlive-cant-find-wrapfig-sty-while-package-is-installed</a>
</li>
</ol>
<p>
Latex is easily installed with <b>sudo apt-get install texlive</b> and
<b>sudo apt-get install texlive-latex-extra</b>.
</p>

<hr>
</div>
</div>
<div id="outline-container-sec-4-12" class="outline-3">
<h3 id="sec-4-12">
<span class="section-number-3">4.12</span> Automatic Backups with rsync and cron</h3>
<div class="outline-text-3" id="text-4-12">
<p>
<i>Sources</i>
</p>
<ol class="org-ol">
<li>
<a href="http://www.howtogeek.com/135533/how-to-use-rsync-to-backup-your-data-on-linux/">http://www.howtogeek.com/135533/how-to-use-rsync-to-backup-your-data-on-linux/</a>
</li>
<li>
<a href="http://www.jveweb.net/en/archives/2011/02/using-rsync-and-cron-to-automate-incremental-backups.html">http://www.jveweb.net/en/archives/2011/02/using-rsync-and-cron-to-automate-incremental-backups.html</a>
</li>
</ol>
<p>
rsync is a very good command line backup tool for performing
incremental backups. (Note that it works for Windows, though the
creators make no guarantees as to how well it will work.)
</p>

<p>
I can backup my important data using the following command:
</p>

<div class="highlight"><pre>rsync -av --delete /Directory1/ /Directory2/
</pre></div>

<p>
This command will copy everything in Directory1 recursively,
including symlinks, permissions, etc. into Directory2 (the
a-flag). If files are found in Directory2 that are not in
Directory1, they will be deleted (the –delete flag). -v means the
output will be verbose for logging purposes.
</p>

<p>
I setup daily backups with the Linux job scheduler cron. To use
emacs to edit the cron file, I used the command
</p>

<div class="highlight"><pre>env <span class="nv">EDITOR</span><span class="o">=</span>emacs crontab -e
</pre></div>

<p>
The <i>env EDITOR=emacs</i> part let me use EMACS and not vi, whereas
the <i>crontab -e</i> part is used to edit the crontab file.
</p>

<p>
Finally, I added the following line in the crontab file to schedule
my backup everyday at 1:00 PM when I'm normally at lunch:
</p>


<div class="highlight"><pre><span class="m">0</span> <span class="m">13</span> * * * rsync -av --delete /Directory1/ /Directory2
</pre></div>
<hr>
</div>
<div id="outline-container-sec-4-12-1" class="outline-4">
<h4 id="sec-4-12-1">
<span class="section-number-4">4.12.1</span> Enabling cron logging</h4>
<div class="outline-text-4" id="text-4-12-1">
<p>
Sometimes cron jobs are difficult to troubleshoot. You can enable
logging of cron by editing <code>/etc/rsyslog.conf</code> and uncommenting
the line
</p>

<div class="highlight"><pre><span class="c"># cron.*</span>
</pre></div>

<p>
Then, restart rsyslog via
</p>

<div class="highlight"><pre>sudo /etc/init.d/rsyslog restart
</pre></div>

<hr>
</div>
</div>
<div id="outline-container-sec-4-12-2" class="outline-4">
<h4 id="sec-4-12-2">
<span class="section-number-4">4.12.2</span> Running cron with sudo privileges</h4>
<div class="outline-text-4" id="text-4-12-2">
<p>
Do not put sudo in cron jobs because the password will be saved as
plain text.
</p>

<p>
Instead, edit the root user's crontab with
</p>

<div class="highlight"><pre>sudo env <span class="nv">EDITOR</span><span class="o">=</span>emacs crontab -e
</pre></div>

<p>
and put your jobs in there.
</p>

<hr>
</div>
</div>
<div id="outline-container-sec-4-12-3" class="outline-4">
<h4 id="sec-4-12-3">
<span class="section-number-4">4.12.3</span> Incremental backups</h4>
<div class="outline-text-4" id="text-4-12-3">
<p>
See this source: <a href="http://www.jveweb.net/en/archives/2011/02/using-rsync-and-cron-to-automate-incremental-backups.html">http://www.jveweb.net/en/archives/2011/02/using-rsync-and-cron-to-automate-incremental-backups.html</a>
</p>

<p>
Currently, I run incremental backups with
</p>

<div class="highlight"><pre>rsync -ab --backup-dir<span class="o">=</span>old_<span class="sb">`</span>date +<span class="se">\%</span>F<span class="sb">`</span> --delete --exclude<span class="o">=</span>old_* /source/ /destination/
</pre></div>

<p>
Note that some characters do not behave as expected in
crontab. For example, the percent sign must be preceded with a
backslash. Otherwise, crontab will interpret the percent sign as
new line and not part of the above command.
</p>

<hr>
</div>
</div>
</div>

<div id="outline-container-sec-4-13" class="outline-3">
<h3 id="sec-4-13">
<span class="section-number-3">4.13</span> Install Microsoft Core Fonts</h3>
<div class="outline-text-3" id="text-4-13">
<p>
These fonts are located in the package <b>ttf-mscorefonts-installer</b>.
</p>

<div class="highlight"><pre>sudo apt-get install ttf-mscorefonts-installer
</pre></div>

<hr>
</div>
</div>
<div id="outline-container-sec-4-14" class="outline-3">
<h3 id="sec-4-14">
<span class="section-number-3">4.14</span> Monitor settings</h3>
<div class="outline-text-3" id="text-4-14">
</div>
<div id="outline-container-sec-4-14-1" class="outline-4">
<h4 id="sec-4-14-1">
<span class="section-number-4">4.14.1</span> Dual monitors</h4>
<div class="outline-text-4" id="text-4-14-1">
<p>
<i>Sources</i>
</p>
<ol class="org-ol">
<li>
<a href="http://askubuntu.com/questions/62681/how-do-i-setup-dual-monitors-in-xfce">http://askubuntu.com/questions/62681/how-do-i-setup-dual-monitors-in-xfce</a>
</li>
</ol>
<p>
I have two monitors at work and I set them up in XFCE according to
the website listed above.
</p>

<p>
I first entered the command <b>xrandr</b> in the terminal to determine
what the monitors were named. Next, I entered the following command
to enable the setting in which one monitor was continuation of
another.
</p>

<div class="highlight"><pre>xrandr --output MONITOR1 --left-of MONITOR2
</pre></div>

<p>
The names MONITOR1 and 2 should be replaced with the names returned
from the xrandr command.
</p>

<p>
I also set this command to run at start up in <i>Applications -&gt;
Settings -&gt; Session and Startup</i>.
</p>

<hr>
</div>
</div>
<div id="outline-container-sec-4-14-2" class="outline-4">
<h4 id="sec-4-14-2">
<span class="section-number-4">4.14.2</span> Screen brightness</h4>
<div class="outline-text-4" id="text-4-14-2">
<p>
<i>Sources</i>
</p>
<ol class="org-ol">
<li>
<a href="http://askubuntu.com/questions/149054/how-to-change-lcd-brightness-from-command-line-or-via-script">http://askubuntu.com/questions/149054/how-to-change-lcd-brightness-from-command-line-or-via-script</a>
</li>
</ol>
<p>
I can also use <i>xrandr</i> to change the screen brightness. Simply use
the command <i>xrandr –output DP-2 –brightness 0.7</i> to set the
brightness to 70% of the monitor labeled DP-2. To find the monitor
labels, simply type <i>xrandr</i>.
</p>

<hr>
</div>
</div>
</div>

<div id="outline-container-sec-4-15" class="outline-3">
<h3 id="sec-4-15">
<span class="section-number-3">4.15</span> Time updates with ntpdate</h3>
<div class="outline-text-3" id="text-4-15">
<p>
<i>Sources</i>
</p>
<ol class="org-ol">
<li>
<a href="http://ubuntuforums.org/showthread.php?t=2193509">http://ubuntuforums.org/showthread.php?t=2193509</a>
</li>
</ol>
<p>
When daylight savings time ended in Europe in 2015, I noticed that
my clock did not update automatically. In fact, using the <b>zdump</b>
command, I found that all daylight savings time information on my
system ended in 2014.
</p>

<p>
To fix this, I first installed the <b>ntpdate</b> program, and then used
it to sync to the Debian server:
</p>

<div class="highlight"><pre>sudo apt-get install ntpdate
sudo ntpdate-debian
</pre></div>

<p>
This fixed my clock rather easily.
</p>
<hr>
</div>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">
<span class="section-number-2">5</span> Choosing software version alternatives</h2>
<div class="outline-text-2" id="text-5">
<p>
Sometimes you may have multiple versions of a software package
installed. I ran into this issue once when trying to write a simple
Java program. Apparently, I compiled the source into bytecode with
the openjdk-7 compiler, but was attempting to run the code with the
openjdk-6 environment (guess what? it didn't work).
</p>

<p>
To fix this, you can run the following from the command line:
</p>

<div class="highlight"><pre>sudo update-alternatives --config java
</pre></div>

<p>
This will allow you to select the version you want from a list of
installed versions. Choosing the Java environment from the openjdk-7
package fixed my compile-time errors about unsupported major.minor
versions.
</p>

<hr>
</div>
</div>

<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6">
<span class="section-number-2">6</span> Python setup</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-sec-6-1" class="outline-3">
<h3 id="sec-6-1">
<span class="section-number-3">6.1</span> Compiling Python 3.4</h3>
<div class="outline-text-3" id="text-6-1">
<p>
<i>Sources</i>
</p>
<ol class="org-ol">
<li>
<a href="http://www.linuxfromscratch.org/blfs/view/svn/general/python3.html">http://www.linuxfromscratch.org/blfs/view/svn/general/python3.html</a>
</li>
<li>
<a href="http://stackoverflow.com/questions/22592686/compiling-python-3-4-is-not-copying-pip">http://stackoverflow.com/questions/22592686/compiling-python-3-4-is-not-copying-pip</a>
</li>
</ol>
<p>
Note before compiling: the <b>libssl-dev</b> package should be installed
for pip to work, and <b>libsqlite3-dev</b> should be installed for
IPython History. <b>tk8.5</b> and <b>tk8.5-dev</b> should be installed if you
later want to use Tk in matplotlib. Finally, <b>libbz2-dev</b> should
already be installed to ensure that Python has access to the bz2
headers.
</p>

<p>
I installed Python 3.4 with the following commands:
</p>

<div class="highlight"><pre><span class="nv">CXX</span><span class="o">=</span><span class="s2">"/usr/bin/g++"</span> <span class="se">\.</span>/configure --prefix<span class="o">=</span>/usr --enable-shared --with-system-expat --with-system-ffi --with-ensurepip<span class="o">=</span>install
make
</pre></div>

<p>
Next, run the following commands as root:
</p>

<div class="highlight"><pre>make install
chmod -v <span class="m">755</span> /usr/lib/libpython3.4m.so
chmod -v <span class="m">755</span> /usr/lib/libpython3.so
</pre></div>

<p>
For the doc files, download the Python HTML documentation from
here: <a href="https://docs.python.org/3.4/download.html">https://docs.python.org/3.4/download.html</a>. Install it using:
</p>

<div class="highlight"><pre>install -v -dm755 /usr/share/doc/python-3.4.0/html
tar --strip-components<span class="o">=</span><span class="m">1</span> --no-same-owner --no-same-permissions -C /usr/share/doc/python-3.4.0/html -xvf ../python-3.4.0-docs-html.tar.bz2
</pre></div>

<p>
In ~/.profile, add the line
<b>PYTHONDOCS="<i>usr/share/doc/python-3.4.0/html</i>"; export PYTHONDOCS</b>
to the bottom of the file to set the <b>PYTHONDOCS</b> environment
variable.
</p>

<p>
Finally, I removed <b>/usr/bin/python</b> and created a symbolic link to
Python3.4 so that it would run as the default:
</p>

<div class="highlight"><pre>sudo rm /usr/bin/python
sudo ln -s /usr/bin/python3.4 /usr/bin/python
</pre></div>

<hr>
</div>
</div>

<div id="outline-container-sec-6-2" class="outline-3">
<h3 id="sec-6-2">
<span class="section-number-3">6.2</span> Installing IPython 2.0</h3>
<div class="outline-text-3" id="text-6-2">
<p>
<i>Sources</i>
</p>
<ol class="org-ol">
<li>
<a href="http://ipython.org/install.html">http://ipython.org/install.html</a>
</li>
<li>
<a href="http://stackoverflow.com/questions/14173271/warning-ipython-history-requires-sqlite-your-history-will-not-be-saved">http://stackoverflow.com/questions/14173271/warning-ipython-history-requires-sqlite-your-history-will-not-be-saved</a>
</li>
</ol>
<p>
IPython 2.0 can be installed using pip. The command to run with
Python3 is actually <b>pip3</b>. Use the <b>[notebook]</b> option if you also
want to install the <a href="http://ipython.org/notebook.html">IPython notebook</a> as well.
</p>

<div class="highlight"><pre>sudo pip3 install ipython<span class="o">[</span>notebook<span class="o">]</span>
</pre></div>

<p>
When I ran IPython the first time, I received the following
messages:
</p>

<div class="highlight"><pre>WARNING: IPython History requires SQLite, your history will not be saved
WARNING: Readline services not available or not loaded.
WARNING: The auto-indent feature requires the readline library
</pre></div>

<p>
I fixed the readline errors by running <b>sudo pip3 install
readline</b>. However, I had to rebuild Python3 with the package
<b>libsqlite3-dev</b> installed to get rid of the sqlite error.
</p>

<hr>
</div>

<div id="outline-container-sec-6-2-1" class="outline-4">
<h4 id="sec-6-2-1">
<span class="section-number-4">6.2.1</span> IPython Notebook</h4>
<div class="outline-text-4" id="text-6-2-1">
<p>
The IPython notebook required that I install <b>libzmq</b> with apt-get
and <b>pyzmq</b> with pip3.
</p>
<hr>
</div>
</div>

<div id="outline-container-sec-6-2-2" class="outline-4">
<h4 id="sec-6-2-2">
<span class="section-number-4">6.2.2</span> Fixing indentation errors</h4>
<div class="outline-text-4" id="text-6-2-2">
<p>
<i>Source</i>
</p>
<ol class="org-ol">
<li>
<a href="http://stackoverflow.com/questions/10920562/ipython-emacs-indentationerror">http://stackoverflow.com/questions/10920562/ipython-emacs-indentationerror</a>
</li>
</ol>
<p>
I've been receiving some indentation errors in IPython. These are
more-or-less fixed by turning off <b>autoindent</b> in IPython. To do
this, I first created the default IPython configuration files by
running
</p>

<div class="highlight"><pre>ipython profile create
</pre></div>

<p>
Following this, I edited
<b>~/.ipython/profile_default/ipython_config.py</b>. I uncommented the
line about <b>autoindent</b> and set the argument to <b>False</b>. This fixed
the indentation errors.
</p>

<hr>
</div>
</div>
</div>

<div id="outline-container-sec-6-3" class="outline-3">
<h3 id="sec-6-3">
<span class="section-number-3">6.3</span> Installing Numpy 1.8.1, matplotlib 1.3.1, scipy 0.14, and Pillow 2.4.0</h3>
<div class="outline-text-3" id="text-6-3">
<p>
Numpy 1.8.1 can be installed with pip3. Before doing so, I first
ATLAS with <b>sudo apt-get install libatlas-base-dev</b>. Next, I
downloaded the Numpy source and unzipped it.
</p>

<p>
matplotlib and Pillow are also easily installed with pip3. Before
installing scipy, be sure that there is a Fortran compiler on your
system, such as <b>gfortran</b>.
</p>

<hr>
</div>
</div>

<div id="outline-container-sec-6-4" class="outline-3">
<h3 id="sec-6-4">
<span class="section-number-3">6.4</span> Multiple IPython prompts at startup</h3>
<div class="outline-text-3" id="text-6-4">
<p>
The reasons for the multiple prompts appearing the start of Ipython
in emacs is given <a href="http://lists.gnu.org/archive/html/help-gnu-emacs/2014-05/msg00061.html">in this disccusion</a>.
</p>

<hr>
</div>
</div>

<div id="outline-container-sec-6-5" class="outline-3">
<h3 id="sec-6-5">
<span class="section-number-3">6.5</span> Getting Tk and Latex support in Python</h3>
<div class="outline-text-3" id="text-6-5">
<p>
The first time I built Python, I did not have <b>tk8.5</b> or
<b>tk8.5-dev</b> installed. This prevented me from creating plots with
matplotlib. So, I recompiled Python after installing these
packages.
</p>

<p>
I believe that I will also have to rebuild matplotlib in the future
if I want Latex support.
</p>

<hr>
</div>
</div>

<div id="outline-container-sec-6-6" class="outline-3">
<h3 id="sec-6-6">
<span class="section-number-3">6.6</span> Installing Jedi</h3>
<div class="outline-text-3" id="text-6-6">
<p>
<i>Sources</i>
</p>
<ol class="org-ol">
<li>
<a href="http://tkf.github.io/emacs-jedi/latest/">http://tkf.github.io/emacs-jedi/latest/</a>
</li>
<li>
<a href="https://github.com/davidhalter/jedi">https://github.com/davidhalter/jedi</a>
</li>
</ol>
<p>
Jedi is a Python autocomplete tool for emacs that I had some
trouble installing at first. In the end, I think the problem was
with an old version on the Maramelade emacs package server.
</p>

<p>
I first installed the following Python packages using pip3 like
normal: <i>sudo pip3 install &lt;PACKAGE&gt;</i>.
</p>

<ul class="org-ul">
<li>jedi
</li>
<li>epc
</li>
<li>virtualenv
</li>
<li>argparse (I'm not sure if this one's necessary; I saw it on a
forum when I was troubleh shooting.)
</li>
</ul>
<p>
This only installs the Jedi library for Python and a few other
Python modules. To install Jedi for emacs I used el-get since the
version it installed was up-to-date. (When I tried to install from
the Marmalade repo using package.el, the repository version was
0.1.2, but the current version of jedi is 0.2.0.) To install
el-get, I added the following lines to init.el:
</p>

<div class="highlight"><pre><span class="c1">; Standard el-get setup</span>
<span class="c1">; (See also: https://github.com/dimitri/el-get#basic-setup)</span>
<span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">'load-path</span> <span class="s">"~/.emacs.d/el-get/el-get"</span><span class="p">)</span>

<span class="p">(</span><span class="nf">unless</span> <span class="p">(</span><span class="nf">require</span> <span class="ss">'el-get</span> <span class="nv">nil</span> <span class="ss">'noerror</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">with-current-buffer</span>
      <span class="p">(</span><span class="nf">url-retrieve-synchronously</span>
       <span class="s">"https://raw.github.com/dimitri/el-get/master/el-get-install.el"</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">goto-char</span> <span class="p">(</span><span class="nf">point-max</span><span class="p">))</span>
    <span class="p">(</span><span class="nf">eval-print-last-sexp</span><span class="p">)))</span>

<span class="p">(</span><span class="nf">el-get</span> <span class="ss">'sync</span><span class="p">)</span>
</pre></div>

<p>
Next, I ran init.el using <i>M-x load-file</i>. I watched the <b>Messages</b>
buffer during this time to watch for when the el-get install
finished (it takes a few minutes). After it had installed and I
restarted emacs for good measure, I ran the command <i>M-x
el-get-install RET jedi RET</i>. Again, I waited until it finished,
then ran the command <i>M-x jedi:install-server RET</i>. This command is
missing in 0.1.2.
</p>

<p>
Finally, I added the following lines to init.el, restarted emacs,
and had a working jedi install.
</p>

<div class="highlight"><pre><span class="c1">;; Standard Jedi.el setting</span>
<span class="p">(</span><span class="nf">add-hook</span> <span class="ss">'python-mode-hook</span> <span class="ss">'jedi:setup</span><span class="p">)</span>
<span class="p">(</span><span class="nf">setq</span> <span class="nv">jedi:complete-on-dot</span> <span class="nv">t</span><span class="p">)</span>
</pre></div>

<hr>
</div>
</div>
</div>

<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7">
<span class="section-number-2">7</span> Org-mode configuration</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-sec-7-1" class="outline-3">
<h3 id="sec-7-1">
<span class="section-number-3">7.1</span> Publish to LaTeX with references</h3>
<div class="outline-text-3" id="text-7-1">
<p>
<i>Sources</i>
</p>
<ol class="org-ol">
<li>
<a href="http://tex.stackexchange.com/questions/197707/using-bibtex-from-org-mode-bbl-and-aux-files-are-incorrectly-generated">http://tex.stackexchange.com/questions/197707/using-bibtex-from-org-mode-bbl-and-aux-files-are-incorrectly-generated</a>
</li>
</ol>
<p>
I found a recent and excellent post to the TeX Stack Exchange
concerning getting org-mode to faithfully create bibliographies in
pdf's published from LaTeX. This task has been notoriously
difficult for me in the past.
</p>

<p>
In brief, I installed the texlive-bibtex-extra and latexmk packages
from the Debian repositories to assemble my tools. Next, I used the
minimal example from the Stack Exchange link and modified it
slightly:
</p>

<div class="highlight"><pre>#+LATEX_HEADER: \usepackage{fullpage}
#+LATEX_HEADER: \usepackage[backend=bibtex,sorting=none]{biblatex}
#+LATEX_HEADER: \usepackage{hyperref}
#+LATEX_HEADER: \addbibresource{telomeres.bib}

#+TITLE: Telomere Master Notes
#+AUTHOR: Kyle M. Douglass
#+DATE: \today

Telomeres consist of DNA tandem repeat sequences, their associated
binding proteins, and a non-coding RNA transcript. They are located at
the end of chromosomes and address two important problems in
eukaryotes: the end-replication problem and the end-protection
problem. A nice summary is provided in \cite{sfeir-jcellsci-2012}.

\printbibliography
</pre></div>

<p>
Finally, I changed my original init.el file by modifying
<b>org-latex-pdf-process</b> to the following:
</p>

<div class="highlight"><pre><span class="p">(</span><span class="nf">setq</span> <span class="nv">org-latex-pdf-process</span>
  <span class="o">'</span><span class="p">(</span><span class="s">"latexmk -pdflatex='pdflatex -interaction nonstopmode' -pdf -bibtex -f %f"</span><span class="p">))</span>
</pre></div>

<p>
This was changed from what I had used in the past:
</p>

<div class="highlight"><pre><span class="p">(</span><span class="nf">setq</span> <span class="nv">org-latex-to-pdf-process</span> <span class="o">'</span><span class="p">(</span><span class="s">"pdflatex -interaction nonstopmode %b"</span>
				 <span class="s">"/usr/bin/bibtex %b"</span>
				 <span class="s">"pdflatex -interaction nonstopmode %b"</span>
				 <span class="s">"pdflatex -interaction nonstopmode %b"</span><span class="p">))</span>
</pre></div>

<p>
Now, publishing to pdf with Latex and including citations works
well.
</p>
<hr>
</div>
</div>
</div>

<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8">
<span class="section-number-2">8</span> CIFS</h2>
<div class="outline-text-2" id="text-8">
<p>
I use CIFS to access my network shares at work, some of which come
from Windows servers.
</p>
</div>

<div id="outline-container-sec-8-1" class="outline-3">
<h3 id="sec-8-1">
<span class="section-number-3">8.1</span> CIFS installation</h3>
<div class="outline-text-3" id="text-8-1">
<p>
It's easy. <i>sudo apt-get install cifs-utils</i>
</p>
<hr>
</div>
</div>

<div id="outline-container-sec-8-2" class="outline-3">
<h3 id="sec-8-2">
<span class="section-number-3">8.2</span> Accessing Windows shares remotely</h3>
<div class="outline-text-3" id="text-8-2">
<p>
<i>Sources</i>
</p>
<ol class="org-ol">
<li>
<a href="https://wiki.ubuntu.com/MountWindowsSharesPermanently">https://wiki.ubuntu.com/MountWindowsSharesPermanently</a>
</li>
</ol>
<p>
First, I created a credentials file with my Windows username and
password called <b>~/.smbcredentials</b>. It contained the lines
</p>

<div class="highlight"><pre><span class="nv">username</span><span class="o">=</span>USERNAME
<span class="nv">password</span><span class="o">=</span>PASSWORD
</pre></div>

<p>
with the obvious substitutions. I changed the read/write
credentials using <b>chmod 600 ~/.smbcredentials</b>.
</p>

<p>
Next, I created a mount point for the network share at
<b>/mnt/LEB-Z</b>. I then added the following line to <b>/etc/fstab</b>
</p>

<div class="highlight"><pre>//SERVERIP/LEB /mnt/LEB-Z cifs <span class="nv">credentials</span><span class="o">=</span>/home/kmdouglass/.smbcredentials,iocharset<span class="o">=</span>utf8,sec<span class="o">=</span>ntlm,noauto <span class="m">0</span> 0
</pre></div>

<p>
The <b>noauto</b> parameter ensures that the share is not mounted at
startup or with the <b>sudo mount -a</b> command. To mount the share, I
enter the command <b>sudo mount /mnt/LEB-Z</b>.
</p>

<hr>
</div>
</div>

<div id="outline-container-sec-8-3" class="outline-3">
<h3 id="sec-8-3">
<span class="section-number-3">8.3</span> fstab options for mounting shares as a user</h3>
<div class="outline-text-3" id="text-8-3">
<p>
The method described above will mount the CIFS share as root, which
means you're user account won't be able to access the files and
directories.
</p>

<p>
To get around this, I modified the fstab line as such:
</p>

<div class="highlight"><pre>//SERVERIP/LEB /mnt/LEB-Z cifs <span class="nv">credentials</span><span class="o">=</span>/home/kmdouglass/.smbcredentials,iocharset<span class="o">=</span>utf8,sec<span class="o">=</span>ntlm,uid<span class="o">=</span>1000,gid<span class="o">=</span>1000,noauto <span class="m">0</span> 0
</pre></div>

<p>
UID and GID are user and group id numbers for the user of
interest. These can be obtained with <b>id -u username</b> and <b>id -g
username</b>.
</p>

<p>
After mounting the share, the ownership still needs to be
changed. This is done with the command
</p>

<div class="highlight"><pre>sudo chown -R user:user /mnt/LEB-Z
</pre></div>

<p>
where user is the username that belongs to the UID.
</p>

<hr>
</div>
</div>
</div>
<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9">
<span class="section-number-2">9</span> Booting from a bootloader on a USB stick</h2>
<div class="outline-text-2" id="text-9">
<p>
I ran into some issues installing Debian on my work computer, which,
I suspect, was due to a crazy partition scheme. I inherited this
computer from someone else and can't change the harddrive layout, so
I've been attempting to work around it.
</p>

<p>
Luckily, there was a 500 GB chunk of free space at the end of one
hard drive, so I decided to install Debian Wheezy there. I booted
into a Live CD and ran the installer. Unfortunately, the install
hung while searching for the other operating systems on the computer
to setup Grub. So after waiting an hour, I manually restarted the
computer.
</p>

<p>
Fortunately, the MBR was untouched so the computer started as if
nothing had ever happened to it. Windows also worked fine. I could
also see what appeared to be the full file system for Debian
installed at the parition I put it in. Rather than risk botching the
MBR, I thought I would try installing <a href="http://www.gnu.org/software/grub/">GRUB</a> onto a USB stick and
using it to boot to the new installation.
</p>

<hr>
</div>

<div id="outline-container-sec-9-1" class="outline-3">
<h3 id="sec-9-1">
<span class="section-number-3">9.1</span> Installing GRUB onto a USB stick</h3>
<div class="outline-text-3" id="text-9-1">
<p>
<i>Sources</i>
</p>
<ol class="org-ol">
<li>
<a href="http://www.pendrivelinux.com/install-grub2-on-usb-from-ubuntu-linux/">http://www.pendrivelinux.com/install-grub2-on-usb-from-ubuntu-linux/</a>
</li>
<li>
<a href="http://www.dedoimedo.com/computers/grub-2.html">http://www.dedoimedo.com/computers/grub-2.html</a>
</li>
<li>
<a href="http://current.workingdirectory.net/posts/2009/grub-on-usb/">http://current.workingdirectory.net/posts/2009/grub-on-usb/</a>
</li>
</ol>
<p>
I first booted into Linux with my Debian Live CD. After inserting a
spare USB stick, I loaded a terminal window and typed <b>sudo su</b> to
get a root prompt. Next, I checked which device the USB stick was
labeled as by inspecting the output of <b>fdisk -l</b>. I mounted the
stick with <b>mkdir /mnt/USB &amp;&amp; mount /dev/sdX /mnt/USB</b>. (Replace
'X' with the device label, usually a letter and a number).
</p>

<p>
Next, I installed GRUB to the MBR of this USB stick by typing this
important command:
</p>

<div class="highlight"><pre>grub-install --force --no-floppy --boot-directory<span class="o">=</span>/mnt/USB/boot /dev/sdX
</pre></div>

<p>
(Again, X should be replaced with the appropriate device label.)
This installed GRUB to the USB for what would be the live
system. The next step involves configuring GRUB to boot the
stranded Linux install.
</p>

<hr>
</div>
</div>

<div id="outline-container-sec-9-2" class="outline-3">
<h3 id="sec-9-2">
<span class="section-number-3">9.2</span> Configuring GRUB on the USB stick to work with your machine</h3>
<div class="outline-text-3" id="text-9-2">
<p>
<i>Sources</i>
</p>
<ol class="org-ol">
<li>
<a href="http://askubuntu.com/questions/145241/how-do-i-run-update-grub-from-a-livecd">http://askubuntu.com/questions/145241/how-do-i-run-update-grub-from-a-livecd</a>
</li>
</ol>
<p>
After installing GRUB to the USB stick, it's necessary to change
/boot/grub/grub.cfg on the USB to reflect your machine's
hardware. This is made easy with the command <b>grub-update</b> and a
Live CD.
</p>

<p>
After booting into the live CD environment, I mounted the stranded
partition to /mnt/linux. Next, I loaded some necessary directories
from the running live instances into the newly mounted partition.
</p>

<div class="highlight"><pre>sudo mount --bind /dev /mnt/linux/dev
sudo mount --bind /sys /mnt/linux/sys
sudo mount --bind /proc /mnt/linux/proc
</pre></div>

<p>
Next I <b>chroot</b>'ed into the partition with <b>sudo chroot
/mnt/linux</b>. I next ran
</p>

<div class="highlight"><pre>sudo update-grub
</pre></div>

<p>
which generated the grub.cfg file on the current partition. I
copied this to /boot/grub in my USB stick, rebooted the computer,
and successfully loaded the stranded partition from the bootloader
on the USB stick.
</p>

<hr>
</div>
</div>

<div id="outline-container-sec-9-3" class="outline-3">
<h3 id="sec-9-3">
<span class="section-number-3">9.3</span> GRUB troubleshooting</h3>
<div class="outline-text-3" id="text-9-3">
</div>
<div id="outline-container-sec-9-3-1" class="outline-4">
<h4 id="sec-9-3-1">
<span class="section-number-4">9.3.1</span> GRUB installation hangs when making device.map</h4>
<div class="outline-text-4" id="text-9-3-1">
<p>
When I recently upgraded from Debian Wheezy to Jessie, I
encountered a lot of difficulty with GRUB hanging during its
installation. This forced me to rescure my partition with a
LiveCD, which wasn't easy because even during rescue the GRUB
installation would fail.
</p>

<p>
Typically, it would hang just after setting up
memtest86-multiboot. The problem, I discovered, lay with probing
other hard drives for different operating systems. Since I no
longer needed my Windows installation (I used a virtual machine
instead), I disabled the OS prober by adding the following line to
the top of <code>/etc/default/grub</code>:
</p>

<div class="highlight"><pre>GRUB_DISABLE_OS_PROBER=true
</pre></div>

<p>
I then killed all GRUB processes and ran <code>sudo update-grub</code> to
configure GRUB on my system without the Windows partitions.
</p>
</div>
</div>
</div>
</div>
    </div>
    

</article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2016         <a href="mailto:kyle.douglass@epfl.ch">Kyle M. Douglass</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
