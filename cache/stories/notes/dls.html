---
layout: default
title: Dynamic Light Scattering and PyDLS | Notes & Projects
---
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. A preliminary note</a></li>
<li><a href="#sec-2">2. A quick introduction to dynamic light scattering (DLS)</a>
<ul>
<li><a href="#sec-2-1">2.1. What is DLS and why is it important?</a></li>
<li><a href="#sec-2-2">2.2. How does it work?</a></li>
<li><a href="#sec-2-3">2.3. What kind of information does DLS provide?</a></li>
<li><a href="#sec-2-4">2.4. DLS has been around since the 60's. Why bother with creating this site to explain DLS?</a></li>
</ul>
</li>
<li><a href="#sec-3">3. PyDLS - Python code for simulating DLS experiments</a>
<ul>
<li><a href="#sec-3-1">3.1. Location of PyDLS</a></li>
<li><a href="#sec-3-2">3.2. How to use PyDLS</a></li>
<li><a href="#sec-3-3">3.3. An example</a></li>
<li><a href="#sec-3-4">3.4. An important note about scattering intensity</a></li>
</ul>
</li>
<li><a href="#sec-4">4. Links</a></li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> A preliminary note</h2>
<div class="outline-text-2" id="text-1">
<p>
This page is a work in progress. However, since I moved on from
working with DLS when I started my post-doc, I lost a lot of
motivation for writing this tutorial. Thus, it will never be as
complete as I had originally hoped.
</p>

<p>
But don't worry, my Python code for simulating a DLS experiment
still works and can be used to explore how the shape of a particle
size distribution affects the shape of the measured signal in a DLS
experiment, the intensity correlation function.
</p>

<p>
The details of the code are described below in <i>PyDLS - Python code
for simulating DLS experiments</i>. Check it out, modify it, and let me
know if it was useful to you.
</p>
<hr  />
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> A quick introduction to dynamic light scattering (DLS)</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> What is DLS and why is it important?</h3>
<div class="outline-text-3" id="text-2-1">
<p>
Dynamic light scattering (abbreviated DLS and also known as photon
correlation spectroscopy) is a popular optical interrogation
technique for determining the size distribution of small particles
in suspension. What this means is that the technique uses scattered
light to measure the relative amount of small particles that are
floating in a liquid or gas suspension. DLS may also be used to
probe the mechanical properties of complex fluids such as gels or
glassy materials.
</p>

<p>
DLS is important to many scientific and engineering fields, such as
polymer chemistry, materials science, and micro and molecular
biology. It is important because it provides information about
fluid-like materials at length scales ranging from nanometers to
tens of micrometers and at time scales ranging from nanoseconds to
milliseconds.
</p>

<p>
DLS is limited as a measurement technique by a number of
factors. It is, however, complemented by other techniques which
also rely on scattered electromagnetic radiation to probe a
material. These other techniques include diffusing wave
spectroscopy, fluorescence correlation spectroscopy, and
differential dynamic microscopy.
</p>

<hr  />
</div>
</div>

<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> How does it work?</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Though its implementation can vary in quite a few ways, a
"standard" DLS setup includes the following primary components:
</p>

<ol class="org-ol">
<li>a laser,
</li>
<li>a clear sample container holding the complex fluid of interest,
</li>
<li>a single photon detector,
</li>
<li>and a digital correlator.
</li>
</ol>

<p>
In some cases, an analog photodetector with a large bandwidth and
electronic spectrum analyzer may be used instead of the single
photon detector and digital correlator. Additionally, several
optical components and optomechanics will also be included in a DLS
setup to optimize the signal-to-noise ratio or improve on other
aspects of the measurement.
</p>

<p>
The "standard" DLS measurement is illustrated below. In this setup,
a laser illuminates a sample consisting of a fluid with some
particles suspended in it. For now, let's say that a particle can
be a polymer chain, a biological macromolecule, swimming bacteria,
dust, or even a slight flucutation in the density of the fluid. We
would like to know something about these particles, such as what
their sizes are or aspects about their motion in the fluid. To do
this, we require these particles to scatter the incident laser
light into directions other than the direction of the incident
laser beam. This will happen if the optical properties of the
particles, such as their refractive index, differs from the optical
properties of the solvent or disspersant that they're held in.
</p>

<a href="/img/dls/basic_setup.jpg">
  <img class="standard-img" src="/img/dls/basic_setup.jpg" alt="A basic DLS setup.">
</a>

<p>
Since the particles in a fluid at temperatures above 0 Kelvin move
randomly due collisions with the solvent molecules (think <a href="http://en.wikipedia.org/wiki/Brownian_motion">Brownian
motion</a> here), the scattered light intensity in any given direction
will also change randomly. The statistical nature with which the
intensity changes happens to encode information about the
particles, and DLS theory is used to extract this information.
</p>

<p>
To summarize, DLS utilizes a laser to illuminate a suspension of
particles and a photodetector to record the random changes in the
scattered laser light due to the particles' motion. Information
about the particles is inferred from the random changes in
scattered intensity.
</p>

<hr  />
</div>
</div>

<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> What kind of information does DLS provide?</h3>
<div class="outline-text-3" id="text-2-3">
<p>
DLS provides what is called "ensemble" information. This means
that rather than providing the specifics of every particle in a
population, it instead returns information about the population as
a whole.
</p>

<p>
The most common application of DLS is to measure the size
distribution of particles. This is the probability that you obtain
a particle of a given size if you randomly selected any particle
from the ensemble. Since it is a distribution, it contains
information
</p>
<hr  />
</div>
</div>

<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4"><span class="section-number-3">2.4</span> DLS has been around since the 60's. Why bother with creating this site to explain DLS?</h3>
<div class="outline-text-3" id="text-2-4">
<p>
A significant portion of my graduate work was dedicated to the
development of a fiber optic-based sensor for measuring the
viscoelastic properties of blood <i>in vivo</i>. The sensor works on the
principles of DLS and can provide real-time information on whether
the blood flowing through a person's vasculature is beginning to
clot. This knowledge is important to medicine, especially the field
of <a href="http://en.wikipedia.org/wiki/Interventional_radiology">interventional radiology</a>, whose goals are to treat patients for
a host of diseases by using catheters and other minimally invasive
tools. An understanding of DLS could therefore lead to the
development of devices that could directly and positively impact a
person's well-being.
</p>

<p>
When I began this project, I first set out to learn about
DLS. Unfortunately, I struggled to find good resources that could
help me grasp its basics and to understand what it could and
couldn't do. The <a href="http://en.wikipedia.org/wiki/Dynamic_light_scattering">Wikipedia page on DLS</a> is really not so good. An
oft-cited resource, <a href="http://www.amazon.com/Dynamic-Light-Scattering-Applications-Chemistry/dp/0486411559">Berne and Pecora's Dynamic Light Scattering</a>,
while very expansive, focuses entirely too much on the intricacies
of the theories involved in interpreting DLS data, rather than on
the implementation of the technique itself. Furthermore, and in my
opinion, the wide range of scientific literature on DLS and its
related techniques assume too much prior knowledge to help new
students understand it.
</p>

<p>
Another characteristic of DLS that leads to frustration for
newcomers is that an understanding of the technique requires
knowledge from a broad range of backgrounds, including electrical
engineering, optics, probability and random processes, and some
chemistry. One often has to acquire knowledge of theory and
techniques outside of their training to utilize it successfully.
</p>

<p>
Perhaps the most influential reason for creating this page came
from my work with several biologists and chemists who used
commercial DLS machines. Many simply trusted the numbers that the
machines reported without an understanding of how they
worked. Unfortunately, these numbers can be wildly inaccurate if a
sample is prepared poorly, the optics are misaligned, or a host of
many other reasons. I worried that this lack of understanding and
susceptibility to error in the technique could lead to wrong
conclusions my colleagues' research.
</p>

<p>
As a result, I created this page and the PyDLS software in the
hopes that I could provide a simple and accessible resource for
explaining what DLS is, how to implement it in the lab, and how to
use it effectively for your own research.
</p>

<p>
I am by no means the most-knowledgeable person on this
information. I have met several people in both academia and
industry who know much more about DLS and light scattering-based
diagnostics than I do. However, in light of the above reasons, I
feel passionately that the technique should and can be properly
explained to scientists and those interested in utilizing it for
their own research goals.
</p>

<hr  />
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> PyDLS - Python code for simulating DLS experiments</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> Location of PyDLS</h3>
<div class="outline-text-3" id="text-3-1">
<p>
PyDLS can be found here: <a href="https://github.com/kmdouglass/PyDLS">https://github.com/kmdouglass/PyDLS</a>
</p>
<hr  />
</div>
</div>

<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> How to use PyDLS</h3>
<div class="outline-text-3" id="text-3-2">
<p>
PyDLS was my first attempt at writing a medium-size software
project. I learned much about software design in doing it, but, as
with any learning project, the design is not necessarily good.
</p>

<p>
Basically, everything in PyDLS is an object, the most important of
which is the Experiment class. With this class's methods you run
your experiment to obtain a measurement.
</p>

<p>
To setup the measurement, you create instances of objects found in
the experiment, such as particles with a size distribution, a
suspending fluid for the particles, etc. Once the experiment is
setup, you only have to generate the measured intensity
autocorrelation function or power spectral density to see the
theoretical results. These may be used to compare measured results
to the theory easily, which is something I frequently did as a
graduate student as a sanity check on my data.
</p>
<hr  />
</div>
</div>

<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3"><span class="section-number-3">3.3</span> An example</h3>
<div class="outline-text-3" id="text-3-3">
<p>
This example is found in the following code block in
dls<sub>objects</sub>.py:
</p>
<div id="code-block">
<div class="highlight"><pre><span class="n">from</span> <span class="n">scipy</span><span class="p">.</span><span class="n">stats</span> <span class="n">import</span> <span class="n">norm</span>

&quot;&quot;&quot;
<span class="n">Creates</span> <span class="n">the</span> <span class="n">materials</span> <span class="n">and</span> <span class="n">particles</span> <span class="k">for</span> <span class="n">the</span> <span class="n">experiment</span><span class="p">.</span>
&quot;&quot;&quot;
<span class="n">density_ps</span><span class="p">,</span> <span class="n">refrac_ps</span> <span class="p">=</span> 1050<span class="p">.</span>0<span class="p">,</span> 1<span class="p">.</span>59
<span class="n">polystyrene</span> <span class="p">=</span> <span class="n">Material</span><span class="p">(</span><span class="n">density_ps</span><span class="p">,</span> <span class="n">refrac_ps</span><span class="p">)</span>

<span class="n">density_h2o</span><span class="p">,</span> <span class="n">refrac_h2o</span><span class="p">,</span> <span class="n">visc_h2o</span> <span class="p">=</span> 1000<span class="p">.</span>0<span class="p">,</span> 1<span class="p">.</span>33<span class="p">,</span> 0<span class="p">.</span>88<span class="n">e</span><span class="o">-</span>3
<span class="n">water</span> <span class="p">=</span> <span class="n">Material</span><span class="p">(</span><span class="n">density_h2o</span><span class="p">,</span> <span class="n">refrac_h2o</span><span class="p">,</span> <span class="n">visc_h2o</span><span class="p">)</span>

&quot;&quot;&quot;
<span class="n">Makes</span> <span class="n">an</span> <span class="n">ensemble</span> <span class="n">of</span> <span class="n">spheres</span> <span class="n">with</span> <span class="n">Gaussian</span> <span class="n">distributed</span> <span class="n">radii</span> <span class="n">with</span>
<span class="n">an</span> <span class="n">average</span> <span class="n">of</span> 50 <span class="n">nm</span><span class="p">,</span> <span class="n">standard</span> <span class="n">deviation</span> <span class="n">of</span> 15<span class="c">% of the mean. Also</span>
<span class="n">creates</span> <span class="n">a</span> <span class="n">monodisperse</span> <span class="n">distribution</span> <span class="p">(</span><span class="n">only</span> <span class="n">one</span> <span class="nb">size</span><span class="p">)</span> <span class="n">of</span> <span class="n">the</span> <span class="n">same</span>
<span class="n">mean</span> <span class="n">radius</span><span class="p">.</span>
&quot;&quot;&quot;
<span class="n">mean_rad</span> <span class="p">=</span> 0<span class="p">.</span>05<span class="n">e</span><span class="o">-</span>6
<span class="n">std_rad</span> <span class="p">=</span> 0<span class="p">.</span>15 <span class="o">*</span> <span class="n">mean_rad</span>

# <span class="n">Create</span> <span class="n">a</span> <span class="n">Gaussian</span> <span class="nb">size</span> <span class="n">distribution</span>
<span class="n">Gauss_rad_dist</span> <span class="p">=</span> <span class="n">Gauss_Size_Dist</span><span class="p">(</span><span class="n">mean_rad</span><span class="p">,</span> <span class="n">std_rad</span><span class="p">)</span>
<span class="n">Gauss_poly_sphere</span> <span class="p">=</span> <span class="n">Spheres</span><span class="p">(</span><span class="n">polystyrene</span><span class="p">,</span> <span class="n">Gauss_rad_dist</span><span class="p">)</span>

# <span class="n">Create</span> <span class="n">a</span> <span class="n">monodisperse</span> <span class="nb">size</span> <span class="n">distribution</span>
<span class="n">mono_rad_dist</span> <span class="p">=</span> <span class="n">Mono_Size_Dist</span><span class="p">(</span><span class="n">mean_rad</span><span class="p">)</span>
<span class="n">mono_poly_sphere</span> <span class="p">=</span> <span class="n">Spheres</span><span class="p">(</span><span class="n">polystyrene</span><span class="p">,</span> <span class="n">mono_rad_dist</span><span class="p">)</span>

&quot;&quot;&quot;
<span class="n">Creates</span> <span class="n">the</span> <span class="n">experimental</span> <span class="n">setups</span>
&quot;&quot;&quot;
<span class="n">temperature</span> <span class="p">=</span> 25<span class="p">.</span>0 # <span class="n">Temperature</span> <span class="n">in</span> <span class="n">Celsius</span>
<span class="n">Gauss_particles_in_water</span> <span class="p">=</span> <span class="n">Sample</span><span class="p">(</span><span class="n">water</span><span class="p">,</span> <span class="n">Gauss_poly_sphere</span><span class="p">,</span> <span class="n">temperature</span><span class="p">)</span>
<span class="n">mono_particles_in_water</span> <span class="p">=</span>  <span class="n">Sample</span><span class="p">(</span><span class="n">water</span><span class="p">,</span> <span class="n">mono_poly_sphere</span><span class="p">,</span> <span class="n">temperature</span><span class="p">)</span>
<span class="n">wavelength</span> <span class="p">=</span> 0<span class="p">.</span>680<span class="n">e</span><span class="o">-</span>6  # <span class="n">Wavelength</span> <span class="n">of</span> <span class="n">light</span>
<span class="nb">angle</span> <span class="p">=</span> 180<span class="p">.</span>0 # <span class="n">Scattering</span> <span class="nb">angle</span>
<span class="n">time</span> <span class="p">=</span> <span class="n">np</span><span class="p">.</span><span class="n">arange</span><span class="p">(</span>1<span class="n">e</span><span class="o">-</span>6<span class="p">,</span> 1<span class="n">e</span><span class="o">-</span>1<span class="p">,</span> 1<span class="n">e</span><span class="o">-</span>5<span class="p">)</span>

<span class="n">Gauss_experiment</span> <span class="p">=</span> <span class="n">Experiment</span><span class="p">(</span><span class="n">Gauss_particles_in_water</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="nb">angle</span><span class="p">,</span> <span class="n">time</span><span class="p">)</span>
<span class="n">mono_experiment</span> <span class="p">=</span> <span class="n">Experiment</span><span class="p">(</span><span class="n">mono_particles_in_water</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="nb">angle</span><span class="p">,</span> <span class="n">time</span><span class="p">)</span>

&quot;&quot;&quot;
<span class="n">Plots</span> <span class="n">the</span> <span class="n">autocorrelation</span> <span class="k">function</span> <span class="n">and</span> <span class="n">power</span> <span class="n">spectrum</span> <span class="k">for</span> <span class="n">each</span>
<span class="nb">size</span> <span class="n">distribution</span><span class="p">.</span>
&quot;&quot;&quot;
<span class="n">plt</span><span class="p">.</span><span class="n">subplot</span><span class="p">(</span>211<span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">semilogy</span><span class="p">(</span><span class="n">Gauss_experiment</span><span class="p">.</span><span class="n">time</span><span class="p">,</span> <span class="n">Gauss_experiment</span><span class="p">.</span><span class="n">field_acf</span><span class="p">,</span> <span class="n">label</span> <span class="p">=</span> <span class="s">&#39;Gaussian&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">semilogy</span><span class="p">(</span><span class="n">mono_experiment</span><span class="p">.</span><span class="n">time</span><span class="p">,</span> <span class="n">mono_experiment</span><span class="p">.</span><span class="n">field_acf</span><span class="p">,</span> <span class="n">label</span> <span class="p">=</span> <span class="s">&#39;Monodisperse&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span> <span class="p">=</span> <span class="s">&#39;lower left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;Autocorrelation function&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;Time, seconds&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">ylim</span><span class="p">([</span>1<span class="n">e</span><span class="o">-</span>10<span class="p">,</span> 1<span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="n">xlim</span><span class="p">([</span>0<span class="p">,</span> 0<span class="p">.</span>01<span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="n">True</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">subplot</span><span class="p">(</span>212<span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">Gauss_experiment</span><span class="p">.</span><span class="n">frequency</span><span class="p">,</span> <span class="n">Gauss_experiment</span><span class="p">.</span><span class="n">field_psd</span><span class="p">,</span> <span class="n">label</span> <span class="p">=</span> <span class="s">&#39;Gaussian&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">mono_experiment</span><span class="p">.</span><span class="n">frequency</span><span class="p">,</span> <span class="n">mono_experiment</span><span class="p">.</span><span class="n">field_psd</span><span class="p">,</span> <span class="n">label</span> <span class="p">=</span> <span class="s">&#39;Monodisperse&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span> <span class="p">=</span> <span class="s">&#39;lower left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;Power spectrum&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;Frequency, Hz&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">ylim</span><span class="p">([</span>1<span class="n">e</span><span class="o">-</span>10<span class="p">,</span> 1<span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="n">True</span><span class="p">)</span>
</pre></div>
</div>
<p>
First, we create two different samples. One is a monodisperse
sample, meaning that particles of only one size are present (this
is not realistic, but is the textbook case to which other cases are
compared.) The other is a sample with a Gaussian size distribution,
meaning that the probability of finding a particle is a normal
distribution. Only the mean and standard deviations of the particle
radii are needed.
</p>
<div id="code-block">
<div class="highlight"><pre>&quot;&quot;&quot;
<span class="n">Creates</span> <span class="n">the</span> <span class="n">materials</span> <span class="n">and</span> <span class="n">particles</span> <span class="k">for</span> <span class="n">the</span> <span class="n">experiment</span><span class="p">.</span>
&quot;&quot;&quot;
<span class="n">density_ps</span><span class="p">,</span> <span class="n">refrac_ps</span> <span class="p">=</span> 1050<span class="p">.</span>0<span class="p">,</span> 1<span class="p">.</span>59
<span class="n">polystyrene</span> <span class="p">=</span> <span class="n">Material</span><span class="p">(</span><span class="n">density_ps</span><span class="p">,</span> <span class="n">refrac_ps</span><span class="p">)</span>

<span class="n">density_h2o</span><span class="p">,</span> <span class="n">refrac_h2o</span><span class="p">,</span> <span class="n">visc_h2o</span> <span class="p">=</span> 1000<span class="p">.</span>0<span class="p">,</span> 1<span class="p">.</span>33<span class="p">,</span> 0<span class="p">.</span>88<span class="n">e</span><span class="o">-</span>3
<span class="n">water</span> <span class="p">=</span> <span class="n">Material</span><span class="p">(</span><span class="n">density_h2o</span><span class="p">,</span> <span class="n">refrac_h2o</span><span class="p">,</span> <span class="n">visc_h2o</span><span class="p">)</span>

&quot;&quot;&quot;
<span class="n">Makes</span> <span class="n">an</span> <span class="n">ensemble</span> <span class="n">of</span> <span class="n">spheres</span> <span class="n">with</span> <span class="n">Gaussian</span> <span class="n">distributed</span> <span class="n">radii</span> <span class="n">with</span>
<span class="n">an</span> <span class="n">average</span> <span class="n">of</span> 50 <span class="n">nm</span><span class="p">,</span> <span class="n">standard</span> <span class="n">deviation</span> <span class="n">of</span> 15<span class="c">% of the mean. Also</span>
<span class="n">creates</span> <span class="n">a</span> <span class="n">monodisperse</span> <span class="n">distribution</span> <span class="p">(</span><span class="n">only</span> <span class="n">one</span> <span class="nb">size</span><span class="p">)</span> <span class="n">of</span> <span class="n">the</span> <span class="n">same</span>
<span class="n">mean</span> <span class="n">radius</span><span class="p">.</span>
&quot;&quot;&quot;
<span class="n">mean_rad</span> <span class="p">=</span> 0<span class="p">.</span>05<span class="n">e</span><span class="o">-</span>6
<span class="n">std_rad</span> <span class="p">=</span> 0<span class="p">.</span>15 <span class="o">*</span> <span class="n">mean_rad</span>

# <span class="n">Create</span> <span class="n">a</span> <span class="n">Gaussian</span> <span class="nb">size</span> <span class="n">distribution</span>
<span class="n">Gauss_rad_dist</span> <span class="p">=</span> <span class="n">Gauss_Size_Dist</span><span class="p">(</span><span class="n">mean_rad</span><span class="p">,</span> <span class="n">std_rad</span><span class="p">)</span>
<span class="n">Gauss_poly_sphere</span> <span class="p">=</span> <span class="n">Spheres</span><span class="p">(</span><span class="n">polystyrene</span><span class="p">,</span> <span class="n">Gauss_rad_dist</span><span class="p">)</span>

# <span class="n">Create</span> <span class="n">a</span> <span class="n">monodisperse</span> <span class="nb">size</span> <span class="n">distribution</span>
<span class="n">mono_rad_dist</span> <span class="p">=</span> <span class="n">Mono_Size_Dist</span><span class="p">(</span><span class="n">mean_rad</span><span class="p">)</span>
<span class="n">mono_poly_sphere</span> <span class="p">=</span> <span class="n">Spheres</span><span class="p">(</span><span class="n">polystyrene</span><span class="p">,</span> <span class="n">mono_rad_dist</span><span class="p">)</span>
</pre></div>
</div>

<p>
After the particle sizes are setup, we establish the experimental
parameters. All units are in SI except temperature, which is
Celsius, not Kelvin.
</p>
<div id="code-block">
<div class="highlight"><pre>&quot;&quot;&quot;
<span class="n">Creates</span> <span class="n">the</span> <span class="n">experimental</span> <span class="n">setups</span>
&quot;&quot;&quot;
<span class="n">temperature</span> <span class="p">=</span> 25<span class="p">.</span>0 # <span class="n">Temperature</span> <span class="n">in</span> <span class="n">Celsius</span>
<span class="n">Gauss_particles_in_water</span> <span class="p">=</span> <span class="n">Sample</span><span class="p">(</span><span class="n">water</span><span class="p">,</span> <span class="n">Gauss_poly_sphere</span><span class="p">,</span> <span class="n">temperature</span><span class="p">)</span>
<span class="n">mono_particles_in_water</span> <span class="p">=</span>  <span class="n">Sample</span><span class="p">(</span><span class="n">water</span><span class="p">,</span> <span class="n">mono_poly_sphere</span><span class="p">,</span> <span class="n">temperature</span><span class="p">)</span>
<span class="n">wavelength</span> <span class="p">=</span> 0<span class="p">.</span>680<span class="n">e</span><span class="o">-</span>6  # <span class="n">Wavelength</span> <span class="n">of</span> <span class="n">light</span>
<span class="nb">angle</span> <span class="p">=</span> 180<span class="p">.</span>0 # <span class="n">Scattering</span> <span class="nb">angle</span>
<span class="n">time</span> <span class="p">=</span> <span class="n">np</span><span class="p">.</span><span class="n">arange</span><span class="p">(</span>1<span class="n">e</span><span class="o">-</span>6<span class="p">,</span> 1<span class="n">e</span><span class="o">-</span>1<span class="p">,</span> 1<span class="n">e</span><span class="o">-</span>5<span class="p">)</span>
</pre></div>
</div>
<p>
The <code>time</code> variable establishes the autocorrelator delay times, and
range of frequencies in the power spectral density.
</p>

<p>
Finally, the experiment is run.
</p>
<div id="code-block">
<div class="highlight"><pre><span class="n">Gauss_experiment</span> <span class="p">=</span> <span class="n">Experiment</span><span class="p">(</span><span class="n">Gauss_particles_in_water</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="nb">angle</span><span class="p">,</span> <span class="n">time</span><span class="p">)</span>
<span class="n">mono_experiment</span> <span class="p">=</span> <span class="n">Experiment</span><span class="p">(</span><span class="n">mono_particles_in_water</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="nb">angle</span><span class="p">,</span> <span class="n">time</span><span class="p">)</span>
</pre></div>
</div>
<p>
The remainder of the code shows how to extract the data from the
Experiment object instances for plotting.
</p>
<hr  />
</div>
</div>

<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4"><span class="section-number-3">3.4</span> An important note about scattering intensity</h3>
<div class="outline-text-3" id="text-3-4">
<p>
To convert an unweighted size distribution to an intensity weighted
distribution, I had to calculate how much light a sphere would
scatter into a given direction. This is easily determined for
spheres much smaller than the wavelength of light, where Rayleigh
scattering dominates (see
<a href="http://en.wikipedia.org/wiki/Rayleigh_scattering">http://en.wikipedia.org/wiki/Rayleigh_scattering</a>).
</p>

<p>
Particles bigger than about a twentieth of the wavelength of light
scatter light in an angular pattern given by the Mie solution to
Maxwell's equations (<a href="http://en.wikipedia.org/wiki/Mie_theory">http://en.wikipedia.org/wiki/Mie_theory</a>). This
is mathematically more complicated.
</p>

<p>
Because I stopped working on this project before it was complete, I
never wrote the code to compute the scattered intensity of Mie
particles. Instead, all particles, regardless as size, are
simulated as Rayleigh scatterers.
</p>

<p>
This should only really matter if your size distribution has a very
broad width across multiple orders of magnitude that include a size
equivalent to the wavelength of light.
</p>
<hr  />
</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Links</h2>
<div class="outline-text-2" id="text-4">
<ul class="org-ul">
<li><a href="http://arxiv.org/abs/1306.1401">Optical correlation techniques for the investigation of colloidal systems - arXiv</a>
</li>
<li><a href="http://weitzlab.seas.harvard.edu/links/tutorials/dynamiclightscattering.pdf">DLS tutorial from David Weitz's lab</a>
</li>
</ul>
<hr  />
<div id="disqus_thread"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'kmdouglass'; // required: replace example with your forum shortname

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
</div>
